[GSAPGSAP](https://gsap.com/) Menu

- Tools




- [Core](https://gsap.com/core/)
- [Scroll](https://gsap.com/scroll/)
- [SVG](https://gsap.com/svg/)
- [UI](https://gsap.com/ui/)
- [Text](https://gsap.com/text/)

- [Installation](https://gsap.com/docs/v3/Installation)
- [Starter Templates](https://gsap.com/demos)
- [GSAP & React](https://gsap.com/resources/React)
- [Video Lessons](https://www.youtube.com/@GreenSockLearning)

Professional-grade JavaScript animation for the modern web

![](https://gsap.com/img/header-shapes.png)

- [Pricing](https://gsap.com/pricing/)
- [Showcase](https://gsap.com/showcase/)
- [Community](https://gsap.com/community/)
- [Learn GSAP](https://gsap.com/resources/)
- [Docs](https://gsap.com/docs/v3)

- Notifications






#### Notifications



[Notification Settings](https://gsap.com/community/notifications/options) [View All](https://gsap.com/community/notifications/)

- Messages






#### Messages



[Compose new](https://gsap.com/community/messenger/compose) [Go to Inbox](https://gsap.com/community/messenger)

- Login/Create Account




#### Sign In







Login [Forgot your password?](https://gsap.com/community/lostpassword/)





#### Why create an account?



- It's free

- Participate in the forums

- Updates on the products you use

- Exclusive offers and more


[Create an Account](https://gsap.com/community/register)

- [My Account](https://gsap.com/community/account-dashboard)








![Guest](https://gsap.com/community/uploads/set_resources_8/84c1e40ea0e759e3f1505eb1788ddf3c_default_photo.png)





Guest







Guests







- [Dashboard](https://gsap.com/community/account-dashboard)
- [Orders & Billing](https://gsap.com/community/clients/orders)
- [Account Settings](https://gsap.com/community/settings)
- [Logout](https://gsap.com/community/logout/?csrfKey=cb528eb833967b47b5176efe3b6ff193)

- [Get GSAP](https://gsap.com/docs/v3/Installation)

- Tools
  - [Core](https://gsap.com/core/)
  - [Scroll](https://gsap.com/scroll/)
  - [SVG](https://gsap.com/svg/)
  - [UI](https://gsap.com/ui/)
  - [Text](https://gsap.com/text/)
- [Pricing](https://gsap.com/pricing/)
- [Showcase](https://gsap.com/showcase/)
- [Community](https://gsap.com/community/)
- [Learn GSAP](https://gsap.com/resources/)
- [Docs](https://gsap.com/docs/v3/)

- Login/Create Account
- ![Guest](https://gsap.com/community/uploads/set_resources_8/84c1e40ea0e759e3f1505eb1788ddf3c_default_photo.png)





Guest







Guests


![Guest](https://gsap.com/community/uploads/set_resources_8/84c1e40ea0e759e3f1505eb1788ddf3c_default_photo.png)

Guest

Guests

- [Dashboard](https://gsap.com/community/account-dashboard)
- [Orders & Billing](https://gsap.com/community/clients/orders)
- [Account Settings](https://gsap.com/community/settings)
- [Logout](https://gsap.com/community/logout/?csrfKey=cb528eb833967b47b5176efe3b6ff193)
- [Messages](https://gsap.com/community/messenger/)
- [Notifications](https://gsap.com/community/notifications/)

#### Sign In

Login [Forgot your password?](https://gsap.com/community/lostpassword/)

#### Not got an account?

[Create an Account](https://gsap.com/community/register)

- [CodePen](https://codepen.io/GreenSock)
- [GitHub](https://github.com/greensock/GreenSock-JS/)
- [Facebook](https://www.facebook.com/greensock/)
- [LinkedIn](https://www.linkedin.com/company/greensock)
- [x](https://www.twitter.com/greensock/)

![](https://gsap.com/img/header-shapes.png)

[Skip to main content](https://gsap.com/docs/v3/Plugins/Flip/#__docusaurus_skipToContent_fallback)

[Docs](https://gsap.com/docs/v3/) [Learning](https://gsap.com/resources)

[v3.12.7](https://gsap.com/docs/v3/)

- [v3.12.7](https://gsap.com/docs/v3/Plugins/Flip/)
- [v2 - archived](https://www.gsap.com/archived-docs/)

Search`` `K`

- [docsHome](https://gsap.com/docs/v3/)
- Quick Start
- [Installation](https://gsap.com/docs/v3/Installation)

- [YouTube Channel](https://www.youtube.com/@GreenSockLearning)
- [Trial the Club Plugins](https://gsap.com/resources/trial)
- [Demos / Starter Templates](https://gsap.com/demos)
- [Cheatsheet](https://gsap.com/cheatsheet)
- Fundamentals
- [GSAP](https://gsap.com/docs/v3/GSAP/)

- [Tween](https://gsap.com/docs/v3/GSAP/Tween)

- [Timeline](https://gsap.com/docs/v3/GSAP/Timeline)

- [CSS](https://gsap.com/docs/v3/GSAP/CorePlugins/CSS)
- [Easing](https://gsap.com/docs/v3/Eases)

- Plugins
- [What's a plugin?](https://gsap.com/docs/v3/Plugins)
- [ScrollTrigger](https://gsap.com/docs/v3/Plugins/ScrollTrigger/)

- [ScrollSmoother](https://gsap.com/docs/v3/Plugins/ScrollSmoother/)

- [Flip](https://gsap.com/docs/v3/Plugins/Flip/)

  - [methods](https://gsap.com/docs/v3/Plugins/Flip/#)

    - [Flip.batch()](https://gsap.com/docs/v3/Plugins/Flip/static.batch())
    - [Flip.fit()](https://gsap.com/docs/v3/Plugins/Flip/static.fit())
    - [Flip.from()](https://gsap.com/docs/v3/Plugins/Flip/static.from())
    - [Flip.getState()](https://gsap.com/docs/v3/Plugins/Flip/static.getState())
    - [Flip.isFlipping()](https://gsap.com/docs/v3/Plugins/Flip/static.isFlipping())
    - [Flip.killFlipsOf()](https://gsap.com/docs/v3/Plugins/Flip/static.killFlipsOf())
    - [Flip.makeAbsolute()](https://gsap.com/docs/v3/Plugins/Flip/static.makeAbsolute())
    - [Flip.to()](https://gsap.com/docs/v3/Plugins/Flip/static.to())
- [more plugins](https://gsap.com/docs/v3/Plugins/Flip/#)

- Useful features & tools
- [Utility Methods](https://gsap.com/docs/v3/GSAP/UtilityMethods)

- [Staggers](https://gsap.com/resources/getting-started/Staggers)
- [Helper functions](https://gsap.com/docs/v3/HelperFunctions/)

- [React - useGSAP()](https://gsap.com/resources/React)

- Flip

On this page

added in v3.9.0

# Flip

Quick Start

#### CDN Link

Copy

```codeBlockLines_p187
gsap.registerPlugin(Flip)

```

#### Minimal usage

```codeBlockLines_p187
// grab state
const state = Flip.getState(squares);

// Make DOM or styling changes
switchItUp();

// Animate from the initial state to the end state
Flip.from(state, {duration: 2, ease: "power1.inOut"});

```

info

Flip involves a whole different way of thinking about animation. Once you get it, you'll be wowed.

Flip plugin lets you seamlessly transition between two states even if there are sweeping changes to the structure of the DOM that would normally cause elements to jump.

Flip records the current position/size/rotation of your elements, you make whatever changes you want, and then Flip applies offsets to make them **_look_** like they never moved... Lastly FLIP animates the **removal** of those offsets! UI transitions become remarkably simple to code. Flip does all the heavy lifting.

## What people are saying:

> _Experimenting more with GSAP's flip plugin and I'm blown away by how much this accelerates development! What a powerful tool!_ ðŸ’ª _"_ \- Manoela Ilic, Codrops

> _"HOW DOES IT KNOW WHAT TO DO?_ ðŸ¤¯ _"_ \- @georgedoescode

> _"I'm truly amazed at the power of GSAP and FLIP."_ \- @Alex.Marti

> _"My 'Wow' of the week goes to the Flip Plugin. Star-struck. It's soooo smart!"_ \- @PeHaa

## Video [â€‹](https://gsap.com/docs/v3/Plugins/Flip/\#video "Direct link to Video")

Detailed walkthrough

Introducing Flip Plugin for GSAP from GreenSock on Vimeo

![video thumbnail](https://i.vimeocdn.com/video/1033366479-8c938dbebcb720d7b2830fde9085c3ce8e1d158b4b0c93c7d52b0fd3c5314697-d?mw=80&q=85)

Playing in picture-in-picture

[![Link to video owner's profile](https://i.vimeocdn.com/portrait/34768143_60x60?sig=f177f398fbd6f943578b3368c2fc677a1cafac361651c4b8c693f228a59fc819&v=1)](https://vimeo.com/greensock)

Introducing Flip Plugin for GSAP

[GreenSock](https://vimeo.com/greensock)

More options

# More options

Share

Play

Show controls

SettingsChaptersPicture-in-PictureFullscreen

# Settings

QualityAuto

# Chapters

How Flip Works

00:00

Copy link

Introduction

01:55

Copy link

scale: true

05:05

Copy link

Flip.fit()

07:20

Copy link

absolute: true

09:54

Copy link

nested: true

11:35

Copy link

targets and data-flip-id

12:21

Copy link

swapping targets

13:35

Copy link

onEnter and onLeave

17:11

Copy link

props

19:15

Copy link

Extra features

20:38

Copy link

More resources

23:20

Copy link

Of course like all GreenSock tools, there's a rich API for finessing effects and getting exactly the look you want.

" **FLIP**" is an animation technique that stands for " **F** irst", " **L** ast", " **I** nvert", " **P** lay" and was coined [by Paul Lewis](https://aerotwist.com/blog/flip-your-animations/). Here's a demo of how it works:

#### loading...

CodePen Embed - How GSAP's Flip Plugin Works

- [HTML](https://codepen.io/GreenSock/embed/ExyzePZ/ad75564d0ac3e9c6dcaf26e85838ee2a?default-tab=result&theme-id=41164#html-box)
- [SCSS](https://codepen.io/GreenSock/embed/ExyzePZ/ad75564d0ac3e9c6dcaf26e85838ee2a?default-tab=result&theme-id=41164#css-box)
- [JS](https://codepen.io/GreenSock/embed/ExyzePZ/ad75564d0ac3e9c6dcaf26e85838ee2a?default-tab=result&theme-id=41164#js-box)

- [Result](https://codepen.io/GreenSock/embed/ExyzePZ/ad75564d0ac3e9c6dcaf26e85838ee2a?default-tab=result&theme-id=41164#result-box)
- [Skip Results Iframe](https://codepen.io/GreenSock/embed/ExyzePZ/ad75564d0ac3e9c6dcaf26e85838ee2a?default-tab=result&theme-id=41164#resources-link)

[EDIT ON](https://codepen.io/GreenSock/pen/ExyzePZ "Edit on CodePen")

``` cm-s-default
<section id="flip" data-state="initial">
  <button id="prev">&lsaquo;</button>

  <div class="window">
    <div class="boxPosition initialPosition"></div>
    <div class="box gradient-blue">Flip</div>
    <div class="finalContainer"><div class="boxPosition finalPosition"></div></div>
  </div>

  <div class="steps">
    <p>If we reparent the blue div into a new rotated &amp; scaled container (altering the DOM structure), how could we animate there seamlessly? Use the "FLIP" animation technique! Press the right arrow to begin.</p>

    <p><strong>"First":</strong> Get the initial state.<br/><code>const state = <a href="https://greensock.com/docs/v3/Plugins/Flip/static.getState()">Flip.getState(targets)</a></code></p>
    <p><strong>"Last":</strong> Put elements in their final state. In this case we'll place the element in the new container &lt;div&gt; which results in a totally different position, scale, and rotation.</p>
    <p><strong>"Invert":</strong> Make the element <i>appear</i> in its previous position/size by applying offsets instantly. That way, it <i>looks</i> like it hasn't moved yet. <i>Note: we animate this step in the demo to illustrate what normally happens immediately.</i></p>
    <p><strong>"Play":</strong> Animate the removal of those offsets.<br/>
      <code><a href="https://greensock.com/docs/v3/Plugins/Flip/static.from()">Flip.from(state, options)</a></code> returns a GSAP timeline so you can add other animations, control it, etc.
    </p>

    <p>GSAP's <a href="https://greensock.com/docs/v3/Plugins/Flip">Flip Plugin</a> makes this a breeze! </p>
  </div>

  <button id="next">&rsaquo;</button>
</section>

<a class="gsap-logo" target="_blank" href="gsap.com">
  <img src="https://assets.codepen.io/16327/gsap-logo-light.svg" alt="" />
</a>
```

``` cm-s-default
* {
  box-sizing: border-box;
}

html, body {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
  font-weight: 300;
  font-size: 1rem;
}

.window {
  position: relative;
  height: 70vh;
  width: 40vw;
  border-top: 2rem solid #474b4c;
  border-radius: .5rem;
  background-color: #252525;
  overflow: hidden;
}

body, section {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
}

#flip {
  width: 100%;
}

section > .steps, section > .window {
  flex-basis: 50%;
}

button {
  appearance: none;
  background: transparent;
  border: none;
  color: var(--color-surface50);
  font-size: 30vmin;
  font-weight: 300;
  cursor: pointer;
  transition: color 0.5s ease;
}

button:hover {
  color: var(--color-surface-white);
}
button:focus {outline:0;}

.steps {
  padding: 0 2rem;
  font-size: 1.1em;
}

.steps p:not(:first-child) {
  display: none;
}

.box, .boxPosition {
  position: absolute;
  top: 8px;
  left: 8px;
  height: 10vmin!important;
  width: 10vmin!important;
  box-sizing: content-box;
}

.boxPosition {
  top: 6px;
  left: 6px;
  visibility: hidden;
  opacity: 0;
}

.box {
  text-align: center;
  line-height: 10vmin;
  font-size: 3.5vmin;
  font-weight: 400;
  border-radius: 1vmin;
}

.initialPosition {
  border-radius: 5px;
  border: 2px dashed var(--color-blue);
}

.finalPosition {
  border-radius: 10px;
  border: 2px dashed var(--color-surface-white);
}

.finalContainer {
  position: relative;
  width: 36vmin;
  height: 36vmin;
  position: absolute;
  bottom: 0;
  right: 0;
  border: 1px dashed var(--color-surface50);
  border-radius: 10px;
  transform: translate(15vmin, -12vmin) scale(1.5) rotate(-30deg);
  color: var(--color-surface75);
  padding: 1vmin;
  font-size: 2vmin;
  overflow: visible;
}

.finalContainer:after {
  content: "new container";
  position: absolute;
  bottom: 100%;
  left: 0;
  padding-bottom: 0.25rem;
  font-size: 0.9rem;
  z-index: -1;
}
.logo {
  position: absolute;
  width: 60px;
  bottom: 20px;
  right: 30px;
}

code {
  margin-top: 0.5rem;
  margin-bottom: 0.5rem;
  display: inline-block;
  font-size: 1rem;
}

.gsap-logo {
  max-width: 100px;
}
```

[View Compiled](https://codepen.io/GreenSock/embed/ExyzePZ/ad75564d0ac3e9c6dcaf26e85838ee2a?default-tab=result&theme-id=41164#0)

``` cm-s-default
gsap.registerPlugin(Flip);

let states = [ toInitState, toFirstState, toLastState, toInvertState, toPlayState, toEndState ],
  stateIndex = 0,
  stateIndexWrap = gsap.utils.wrap(0, states.length),
  stepBlurbs = gsap.utils.toArray('.steps p'),
  boxEl = document.querySelector(".box"),
  windowEl = document.querySelector(".window"),
  finalContainerEl = document.querySelector(".finalContainer");

gsap.defaults({ duration: 0.4, overwrite: 'auto' });

document.querySelector('#prev').addEventListener('click', () => goToState(stateIndex - 1));
document.querySelector('#next').addEventListener('click', () => goToState(stateIndex + 1));

let transition;
function resize() {
  transition && transition.kill();

  // reset (put back in original container and remove any inline styles)
  windowEl.appendChild(boxEl);
  boxEl.style.cssText = "";

  // grab the original state
  const state = Flip.getState(boxEl);

  // put into the new container
  finalContainerEl.appendChild(boxEl);

  // FLIP!
  transition = Flip.from(state, {
    scale: true,
    duration: 1,
    repeat: -1,
    repeatDelay: 1.5,
    ease: "power1.inOut",
    paused: true
  }).progress(1).progress(0); // lock in the starting/ending values.

  if (stateIndex === 2 || stateIndex === 3) {
    transition.progress(1);
  } else if (stateIndex === 4 || stateIndex === 5) {
    transition.play();
  }
}

function goToState(newState) {
  stateIndex = stateIndexWrap(newState);
  states[stateIndex]();
}

function updateBlurb() {
  const textState = Flip.getState(stepBlurbs);

  gsap.set(stepBlurbs, { display: 'none' });
  gsap.set(stepBlurbs[stateIndex], { display: 'block' });

  Flip.from(textState, {
    duration: 0.4,
    absolute: true,
    onLeave: elements => gsap.to(elements, {opacity: 0, duration: 0.3}),
    onEnter: elements => gsap.fromTo(elements, {opacity: 0}, {opacity: 1, duration: 0.3})
  });
}

function toInitState() {
  transition.pause(0);
  gsap.to(boxEl, {opacity: 1});
  gsap.to(".boxPosition", {autoAlpha: 0});
  updateBlurb();
}

function toFirstState() {
  transition.pause(0);
  gsap.to(boxEl, {opacity: 0.5});
  gsap.to(".initialPosition", {autoAlpha: 1});
  gsap.to(".finalPosition", {autoAlpha: 0});
  updateBlurb();
}

function toLastState() {
  gsap.killTweensOf(transition);
  gsap.set(boxEl, {opacity: 1});
  transition.progress(1).pause();
  gsap.to(".finalPosition", {autoAlpha: 1});
  updateBlurb();
}

function toInvertState() {
  transition.tweenFromTo(">", 0, {duration: 1, overwrite: true});
  updateBlurb();
}

function toPlayState() {
  gsap.killTweensOf(transition);
  gsap.to('.boxPosition', { autoAlpha: 1 });
  transition.play();
  updateBlurb();
}

function toEndState() {
  gsap.to(boxEl, { opacity: 1 });
  gsap.to('.boxPosition', { autoAlpha: 1 });
  transition.play();
  updateBlurb();
}

function init() {
  window.addEventListener('resize', resize);
  resize();
}

init();

// document.addEventListener("click", e => {
//   if (e.target.tagName.toLowerCase() === "button") {
//     return;
//   }
//   if (e.pageX < window.innerWidth / 4) {
//     goToState(stateIndex - 1);
//   } else {
//     goToState(stateIndex + 1);
//   }
// });
```

How GSAP's Flip Plugin Worksâ€¹

Flip

If we reparent the blue div into a new rotated & scaled container (altering the DOM structure), how could we animate there seamlessly? Use the "FLIP" animation technique! Press the right arrow to begin.

**"First":** Get the initial state.

`const state = Flip.getState(targets)`

**"Last":** Put elements in their final state. In this case we'll place the element in the new container <div> which results in a totally different position, scale, and rotation.

**"Invert":** Make the element _appear_ in its previous position/size by applying offsets instantly. That way, it _looks_ like it hasn't moved yet. _Note: we animate this step in the demo to illustrate what normally happens immediately._

**"Play":** Animate the removal of those offsets.

`Flip.from(state, options)` returns a GSAP timeline so you can add other animations, control it, etc.


GSAP's [Flip Plugin](https://greensock.com/docs/v3/Plugins/Flip) makes this a breeze!

â€º[![](https://assets.codepen.io/16327/gsap-logo-light.svg)](https://cdpn.io/GreenSock/fullembedgrid/gsap.com)

[![](https://assets.codepen.io/16327/internal/avatars/users/default.png?fit=crop&format=auto&height=256&version=1697554632&width=256)](https://codepen.io/GreenSock)

This Pen is owned by [GSAP](https://codepen.io/GreenSock) on [CodePen](https://codepen.io/).

It is a fork of [this Pen.](https://codepen.io/davidkpiano/fullpage/EbwrQQ?default-tab=result&theme-id=41164&view=)

[See more by @GreenSock on CodePen](https://codepen.io/GreenSock)

### External CSS

1. [https://codepen.io/GreenSock/pen/xxmzBrw.css](https://codepen.io/GreenSock/pen/xxmzBrw.css)

### External JavaScript

1. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/gsap-latest-beta.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/gsap-latest-beta.min.js)
2. [https://assets.codepen.io/16327/Flip.min.js](https://assets.codepen.io/16327/Flip.min.js)

Resources


- 1Ã—
- 0.5Ã—
- 0.25Ã—

Rerun

## Features [â€‹](https://gsap.com/docs/v3/Plugins/Flip/\#features "Direct link to Features")

Feature Highlights

- **Nested transforms? No problem!** Most FLIP libraries only calculate basic offsets assuming no transforms beyond x/y, so a scaled parent breaks things. Rotations certainly aren't allowed. GSAP's Flip plugin **just works**!
- Set `absolute: true` to **make elements use `position: absolute` during the flip**. This solves layout challenges with flexbox, grid, etc. You can even define a subset of targets, like `absolute: ".box"`
- One flip can handle **multiple elements** and even stagger them.
- **Resize via width/height properties** (default) **or scaleX/scaleY** ( `scale: true`)
- You get the **full power of GSAP under the hood**, so you can use any `ease`, define special properties like `onComplete`, `onUpdate`, `repeat`, `yoyo`, and even `add()` other animations with total control of timing, etc.

**read more...**

- **Apply a CSS class during the flip with `toggleClass`**. It'll be removed at the end of the flip.
- **[Flip.fit()](https://gsap.com/docs/v3/Plugins/Flip/static.fit()) repositions/resizes one element to fit perfectly on top another (or even a previous state of the same element)**.
- **Compensate for nested offsets**. If a container element is getting flipped along with some of its children, set `nested: true` to prevent the offsets from compounding.
- **Smoothly handles interruptions**.
- **Flip one element to another**; even have them cross-fade ( `fade: true`). Just give them the same `data-flip-id` attribute to correlate them.
- **`onEnter` and `onLeave` callbacks** for when elements enter or leave (like if the flip senses a `display: none` toggle and there's no matching target to swap), making it easy to elegantly animate on/off elements.
- **Batch** multiple Flip animations so they don't step on each other's toes, like in a React app with multiple independent components that need to work together.

## How does Flip work? [â€‹](https://gsap.com/docs/v3/Plugins/Flip/\#how-does-flip-work "Direct link to How does Flip work?")

There are typically 3 steps to a "FLIP" animation:

1. ### Get the current state [â€‹](https://gsap.com/docs/v3/Plugins/Flip/\#get-the-current-state "Direct link to Get the current state")






```codeBlockLines_p187
// returns a state object containing data about the elements' current position/size/rotation in the viewport
const state = Flip.getState(".targets");

```









This merely captures some data about the current state. Use selector text, an Element, an Array of Elements, or NodeList. [Flip.getState()](https://gsap.com/docs/v3/Plugins/Flip/static.getState()) doesn't alter anything (unless there's an active flip animation affecting any of the targets in which case it will force it to completion to capture the final state accurately). By default, Flip only concerns itself with position, size, rotation, and skew. If you want your Flip animations to affect other CSS properties, you can define a configuration object with a comma-delimited list of `props`, like:





```codeBlockLines_p187
// record some extra properties (optional)
const state = Flip.getState(".targets", { props: "backgroundColor,color" });

```

2. ### Make your state changes [â€‹](https://gsap.com/docs/v3/Plugins/Flip/\#make-your-state-changes "Direct link to Make your state changes")


Perform DOM edits, styling updates, add/remove classes, or whatever is necessary to get things in their final state. There's no need to do that through the plugin (unless you're [batching](https://gsap.com/docs/v3/Plugins/Flip/static.batch())). For example, we'll toggle a class:





```codeBlockLines_p187
// make state changes. We'll toggle a class, for example:
element.classList.toggle("full-screen");

```

3. ### Call `Flip.from(state, options)` [â€‹](https://gsap.com/docs/v3/Plugins/Flip/\#call-flipfromstate-options "Direct link to call-flipfromstate-options")


Flip will look at the `state` object, compare the recorded positions/sizes to the current ones, immediately reposition/resize them to _appear_ where they were in that previous state, and then animate the _removal_ of those offsets. You can specify almost any standard tween special properties like `duration`, `ease`, `onComplete`, etc. [Flip.from()](https://gsap.com/docs/v3/Plugins/Flip/static.from()) returns a timeline that you can `add()` things to or control in any way:





```codeBlockLines_p187
// animate from the previous state to the current one:
Flip.from(state, {
     duration: 1,
     ease: "power1.inOut",
     absolute: true,
     onComplete: myFunc,
});

```









**_That's it!_**


## Simple example [â€‹](https://gsap.com/docs/v3/Plugins/Flip/\#simple-example "Direct link to Simple example")

#### loading...

CodePen Embed - Flip Plugin swap elements

- [HTML](https://codepen.io/GreenSock/embed/OJNYjmz/5e9998b2c467309c357987dde1a9a21b?default-tab=result&theme-id=41164#html-box)
- [CSS](https://codepen.io/GreenSock/embed/OJNYjmz/5e9998b2c467309c357987dde1a9a21b?default-tab=result&theme-id=41164#css-box)
- [JS](https://codepen.io/GreenSock/embed/OJNYjmz/5e9998b2c467309c357987dde1a9a21b?default-tab=result&theme-id=41164#js-box)

- [Result](https://codepen.io/GreenSock/embed/OJNYjmz/5e9998b2c467309c357987dde1a9a21b?default-tab=result&theme-id=41164#result-box)
- [Skip Results Iframe](https://codepen.io/GreenSock/embed/OJNYjmz/5e9998b2c467309c357987dde1a9a21b?default-tab=result&theme-id=41164#resources-link)

[EDIT ON](https://codepen.io/GreenSock/pen/OJNYjmz "Edit on CodePen")

``` cm-s-default
<button class="button">Swop element positions</button>
<div class="container">
  <div class="square box gradient-blue" id="sq1">1</div>
  <div class="square box gradient-pink" id="sq2">2</div>
</div>
```

``` cm-s-default
body {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
}

p {
  margin-top: 1rem;
}
.container {
  display: flex;
  justify-content: space-around;
  align-items: center;
  height: 100px;
  width: 100%;
}

.box {
  width: 100px;
  height: 100px;
}

button {
  margin: 2rem 0.5rem;
}
```

``` cm-s-default
gsap.registerPlugin(Flip);

const squares = gsap.utils.toArray(".square");

function doFlip() {
  // Get the initial state
  const state = Flip.getState(squares);

  // Make DOM or styling changes (swap the squares in our case)
  swap(squares);

  // Animate from the initial state to the end state
  Flip.from(state, {duration: 2, ease: "power1.inOut"});
}

// Given an Array of two siblings, append the one that's first so it's last (swap)
function swap([a, b]) {
  a.parentNode.children[0] === a ? a.parentNode.appendChild(a) : a.parentNode.appendChild(b);
}

// click to flip
document.querySelector(".button").addEventListener("click", doFlip);
```

Flip Plugin swap elementsSwop element positions

1

2

[![](https://assets.codepen.io/16327/internal/avatars/users/default.png?fit=crop&format=auto&height=256&version=1697554632&width=256)](https://codepen.io/GreenSock)

This Pen is owned by [GSAP](https://codepen.io/GreenSock) on [CodePen](https://codepen.io/).



[See more by @GreenSock on CodePen](https://codepen.io/GreenSock)

### External CSS

1. [https://codepen.io/GreenSock/pen/xxmzBrw.css](https://codepen.io/GreenSock/pen/xxmzBrw.css)

### External JavaScript

1. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js)
2. [https://assets.codepen.io/16327/Flip.min.js?v=3.6.0.beta20](https://assets.codepen.io/16327/Flip.min.js?v=3.6.0.beta20)

Resources


- 1Ã—
- 0.5Ã—
- 0.25Ã—

Rerun

## Flex example [â€‹](https://gsap.com/docs/v3/Plugins/Flip/\#flex-example "Direct link to Flex example")

#### loading...

CodePen Embed - Flipping Flexbox

- [HTML](https://codepen.io/GreenSock/embed/zYqLjre/02b5ff28e7175110cad7d24a1dce7201?default-tab=result&theme-id=41164#html-box)
- [CSS](https://codepen.io/GreenSock/embed/zYqLjre/02b5ff28e7175110cad7d24a1dce7201?default-tab=result&theme-id=41164#css-box)
- [Babel](https://codepen.io/GreenSock/embed/zYqLjre/02b5ff28e7175110cad7d24a1dce7201?default-tab=result&theme-id=41164#js-box)

- [Result](https://codepen.io/GreenSock/embed/zYqLjre/02b5ff28e7175110cad7d24a1dce7201?default-tab=result&theme-id=41164#result-box)
- [Skip Results Iframe](https://codepen.io/GreenSock/embed/zYqLjre/02b5ff28e7175110cad7d24a1dce7201?default-tab=result&theme-id=41164#resources-link)

[EDIT ON](https://codepen.io/GreenSock/pen/zYqLjre "Edit on CodePen")

``` cm-s-default
<h3>Smoothly change flex direction with GSAP's Flip plugin</h3>

<button id="changeLayout" class="button">change</button>
<div class="group">
  <div class="box">Common "FLIP" techniques employed by other tools won't work with flex elements because of the way browsers handle width/height.
  </div>
  <div class="box">Simply set <code>absolute: true</code> to have GSAP's Flip plugin make the elements position: absolute during the flip to work around challenges with flex and grid layouts.
  </div>
  <div class="box">When the flip animation is done, elements get reverted back to their normal positioning and everything appears seamless.</div>
  <div class="box">Happy flipping!</div>
</div>
<a class="gsap-logo" target="_blank" href="gsap.com">
  <img src="https://assets.codepen.io/16327/gsap-logo-light.svg" alt="" />
</a>
```

``` cm-s-default
/* Typography */

@font-face {
  font-display: block;
  font-family: Mori;
  font-style: normal;
  font-weight: 400;
  src: url(https://assets.codepen.io/16327/PPMori-Regular.woff) format("woff");
}

@font-face {
  font-display: block;
  font-family: Mori;
  font-style: normal;
  font-weight: 600;
  src: url(https://assets.codepen.io/16327/PPMori-SemiBold.woff) format("woff");
}

@font-face {
  font-display: block;
  font-family: Fraktion Mono;
  font-style: normal;
  font-weight: 400;
  src: url(https://assets.codepen.io/16327/PPFraktionMono-Bold.woff)
    format("woff");
}

:root {
  --color-shockingly-green: #0ae448;
  --color-just-black: #0e100f;
  --color-surface-white: #fffce1;
  --color-pink: #fec5fb;
  --color-shockingly-pink: #f100cb;
  --color-orangey: #ff8709;
  --color-lilac: #9d95ff;
  --color-lt-green: #abff84;
  --color-blue: #00bae2;
  --color-grey: gray;
  --color-surface75: #bbbaa6;
  --color-surface50: #7c7c6f;
  --color-surface25: #42433d;
}

body {
  color: var(--color-surface-white);
  background-color: var(--color-just-black);
  font-family: Mori, sans-serif;
  font-weight: 400;
  margin: 0;
  font-size: 1rem;
  line-height: 1.45;
  text-align: center;
}

.group.reorder {
  flex-direction: row;
}

h1 {
  font-weight: 400;
}

.group {
  width: 740px;
  height: auto;
  margin: 1rem auto;
  padding: 4px;
 border: dashed 2px var(--color-surface-white);
  display: flex;
  flex-direction: column;
  overflow: hidden;
  color: var(--color-just-black);
  position: relative;
  border-radius: 10px;
}

.box {
  margin: 4px;
  padding: 8px;
  line-height: 28px;
  border-radius: 10px;
}
.box:nth-child(1) {
  background-color: #bef3fe;
}
.box:nth-child(2) {
   background-color: var(--color-blue);
}
.box:nth-child(3) {
  background-color: var(--color-pink);
}
.box:nth-child(4) {
   background-color: #e1faff;
}

button {
  margin: 0 auto;
  display: inline-block;
  outline: none;
  padding: 8px 14px;
  background: var(--dark);
  border: solid 2px var(--color-surface-white);
  color: var(--light);
  text-decoration: none;
  border-radius: 99px;
  padding: 12px 25px;
  text-transform: uppercase;
  font-weight: 600;
  cursor: pointer;
  line-height: 18px;
}

.gsap-logo {
  width: 20vw;
  max-width: 90px;
  position: fixed;
  bottom: 15px;
  right: 15px;
  mix-blend-mode: difference;
  z-index: 9999;
}

img {
  max-width: 100%;
}
```

``` cm-s-default
gsap.registerPlugin(Flip);

const group = document.querySelector(".group");

document.querySelector(".button").addEventListener("click", () => {
  // Get the initial state
  const state = Flip.getState(".group, .box");

  console.log(state);

  // toggle the flex direction
  group.classList.toggle("reorder");

  Flip.from(state, {
    absolute: true, // uses position: absolute during the flip to work around flexbox challenges
    duration: 0.5,
    stagger: 0.1,
    ease: "power1.inOut"
    // you can use any other tweening properties here too, like onComplete, onUpdate, delay, etc.
  });
});

```

[View Compiled](https://codepen.io/GreenSock/embed/zYqLjre/02b5ff28e7175110cad7d24a1dce7201?default-tab=result&theme-id=41164#0)

Flipping Flexbox

### Smoothly change flex direction with GSAP's Flip plugin

change

Common "FLIP" techniques employed by other tools won't work with flex elements because of the way browsers handle width/height.


Simply set `absolute: true` to have GSAP's Flip plugin make the elements position: absolute during the flip to work around challenges with flex and grid layouts.


When the flip animation is done, elements get reverted back to their normal positioning and everything appears seamless.

Happy flipping!

[![](https://assets.codepen.io/16327/gsap-logo-light.svg)](https://cdpn.io/GreenSock/fullembedgrid/gsap.com)

[![](https://assets.codepen.io/16327/internal/avatars/users/default.png?fit=crop&format=auto&height=256&version=1697554632&width=256)](https://codepen.io/GreenSock)

This Pen is owned by [GSAP](https://codepen.io/GreenSock) on [CodePen](https://codepen.io/).

It is a fork of [this Pen.](https://codepen.io/osublake/fullpage/eJGrPN?default-tab=result&theme-id=41164&view=)

[See more by @GreenSock on CodePen](https://codepen.io/GreenSock)

### External CSS

This Pen doesn't use any external CSS resources.


### External JavaScript

1. [https://assets.codepen.io/16327/Flip.min.js](https://assets.codepen.io/16327/Flip.min.js)
2. [https://unpkg.co/gsap@3/dist/gsap.min.js](https://unpkg.co/gsap@3/dist/gsap.min.js)

Resources


- 1Ã—
- 0.5Ã—
- 0.25Ã—

Rerun

## Advanced example [â€‹](https://gsap.com/docs/v3/Plugins/Flip/\#advanced-example "Direct link to Advanced example")

#### loading...

CodePen Embed - Grid items view with Flip Plugin

- [HTML](https://codepen.io/GreenSock/embed/JjXqMZK/eed66252fd3d05b32ba336fbabb38e94?default-tab=result&theme-id=41164#html-box)
- [CSS](https://codepen.io/GreenSock/embed/JjXqMZK/eed66252fd3d05b32ba336fbabb38e94?default-tab=result&theme-id=41164#css-box)
- [JS](https://codepen.io/GreenSock/embed/JjXqMZK/eed66252fd3d05b32ba336fbabb38e94?default-tab=result&theme-id=41164#js-box)

- [Result](https://codepen.io/GreenSock/embed/JjXqMZK/eed66252fd3d05b32ba336fbabb38e94?default-tab=result&theme-id=41164#result-box)
- [Skip Results Iframe](https://codepen.io/GreenSock/embed/JjXqMZK/eed66252fd3d05b32ba336fbabb38e94?default-tab=result&theme-id=41164#resources-link)

[EDIT ON](https://codepen.io/GreenSock/pen/JjXqMZK "Edit on CodePen")

``` cm-s-default
<div class="app">
  <div class="gallery">
    <div class="item" data-title="Owl" data-secondary="Hoo are you?" data-text="Owel lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-owl.png" alt="" />
    </div>
    <div class="item" data-title="Deer" data-secondary="Hi deer." data-text="Deer lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-deer.png" alt="" />
    </div>
    <div class="item" data-title="Hipster" data-secondary="What's new?" data-text="Hipster lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-hipster.png" alt="" />
    </div>
    <div class="item" data-title="Ram" data-secondary="I just drank a Mountain Dew." data-text="Ram lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-ram.png" alt="" />
    </div>
    <div class="item" data-title="Dog" data-secondary="I'm trying to sleep here." data-text="Dog lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-dog.png" alt="" />
    </div>
    <div class="item" data-title="Bored Ram" data-secondary="No time for you." data-text="Ram side lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-sideram.png" alt="" />
    </div>
    <div class="item" data-title="Super Ram" data-secondary="I have lazer vision." data-text="Ram horns lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-multiram.png" alt="" />
    </div>
    <div class="item" data-title="Gorilla" data-secondary="I can fit a whole watermelon in my mouth." data-text="Gorrilla lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-gorilla.png" alt="" />
    </div>
    <div class="item" data-title="Birb" data-secondary="I'm just here to chill." data-text="Birb lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-bird.png" alt="" />
    </div>
    <div class="item" data-title="Owl" data-secondary="Hoo are you?" data-text="Owel lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-owl.png" alt="" />
    </div>
    <div class="item" data-title="Deer" data-secondary="Hi deer." data-text="Deer lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-deer.png" alt="" />
    </div>
    <div class="item" data-title="Hipster" data-secondary="What's new?" data-text="Hipster lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-hipster.png" alt="" />
    </div>
    <div class="item" data-title="Ram" data-secondary="I just drank a Mountain Dew." data-text="Ram lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-ram.png" alt="" />
    </div>
    <div class="item" data-title="Dog" data-secondary="I'm trying to sleep here." data-text="Dog lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-dog.png" alt="" />
    </div>
    <div class="item" data-title="Bored Ram" data-secondary="No time for you." data-text="Ram side lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-sideram.png" alt="" />
    </div>
    <div class="item" data-title="Super Ram" data-secondary="I have lazer vision." data-text="Ram horns lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-multiram.png" alt="" />
    </div>
    <div class="item" data-title="Gorilla" data-secondary="I can fit a whole watermelon in my mouth." data-text="Gorrilla lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-gorilla.png" alt="" />
    </div>
    <div class="item" data-title="Birb" data-secondary="I'm just here to chill." data-text="Birb lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-bird.png" alt="" />
    </div>
    <div class="item" data-title="Owl" data-secondary="Hoo are you?" data-text="Owel lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-owl.png" alt="" />
    </div>
    <div class="item" data-title="Deer" data-secondary="Hi deer." data-text="Deer lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-deer.png" alt="" />
    </div>
    <div class="item" data-title="Hipster" data-secondary="What's new?" data-text="Hipster lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-hipster.png" alt="" />
    </div>

    <div class="item" data-title="Ram" data-secondary="I just drank a Mountain Dew." data-text="Ram lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-ram.png" alt="" />
    </div>
    <div class="item" data-title="Dog" data-secondary="I'm trying to sleep here." data-text="Dog lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-dog.png" alt="" />
    </div>
    <div class="item" data-title="Bored Ram" data-secondary="No time for you." data-text="Ram side lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.">
      <img src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-sideram.png" alt="" />
    </div>
  </div>


</div>

<div class="detail">
  <img />

  <div class="content">
    <div class="title">Placeholder title</div>
    <div class="secondary">Placeholder secondary</div>
    <div class="description">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.</div>
  </div>
</div>
```

``` cm-s-default
@import 'https://fonts.googleapis.com/css?family=Lato:300,400,700';
html, body {
  width: 100%;
  height: 100%;
  margin: 0;
  padding: 0;
}

body {
  display: grid;
  align-items: center;
  justify-items: center;
  background: #1D1F20;
  color: white;
  font-size: 14px;
  font-family: Lato, sans-serif;
}

img {
  width: 100%;
}

.app {
  height: 90vmin;
  width: 90vmin;
  background: white;
  position: relative;
  overflow: auto;

  /* Hide the app on load */
  visibility: hidden;
}

.gallery {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 2% 3.6%;
  padding: 10px;
}

.item {
  cursor: pointer;
  font-size: 0;
}

.detail {
  position: fixed;
  top: 10px;
  left: 50%;
  width: 90.1vmin;
  cursor: pointer;
  font-size: 0;
  display: flex;
  flex-direction: column;
  visibility: hidden;
  max-height: 100%;
  overflow: auto;
}

.detail > img {
  position: relative;
  z-index: 1;
}

.detail .content {
  background: #232323;
  padding: 2rem 1.5rem;
  font-size: 1rem;
  box-sizing: border-box;
  flex-grow: 1;
}

.detail .content > * {
  margin-bottom: 1rem;
}

.detail .title {
  font-size: 2rem;
  text-transform: uppercase;
}

.detail .secondary {
  color: lightgray;
}

.detail .description {
  line-height: 1.5;
}
```

``` cm-s-default
const items = gsap.utils.toArray(".item"),
      details = document.querySelector('.detail'),
      detailContent = document.querySelector('.content'),
      detailImage = document.querySelector('.detail img'),
      detailTitle = document.querySelector('.detail .title'),
      detailSecondary = document.querySelector('.detail .secondary'),
      detailDescription = document.querySelector('.detail .description');

let activeItem; // keeps track of which item is open (details)

gsap.set(detailContent, { yPercent: -100 }); // close the details "drawer" (content) initially

function showDetails(item) {
  if (activeItem) { // someone could click on an element behind the open details panel in which case we should just close it.
    return hideDetails();
  }
  let onLoad = () => {

    // position the details on top of the item (scaled down)
    Flip.fit(details, item, {scale: true, fitChild: detailImage});

    // record the state
    const state = Flip.getState(details);

    // set the final state
    gsap.set(details, {clearProps: true}); // wipe out all inline stuff so it's in the native state (not scaled)
    gsap.set(details, {xPercent: -50, top: "50%", yPercent: -50, visibility: "visible", overflow: "hidden"});

    Flip.from(state, {
      duration: 0.5,
      ease: "power2.inOut",
      scale: true,
      onComplete: () => gsap.set(details, {overflow: "auto"}) // to permit scrolling if necessary
    })
      // Flip.from() returns a timeline, so add a tween to reveal the detail content. That way, if the flip gets interrupted and forced to completion & killed, this does too.
      .to(detailContent, {yPercent: 0}, 0.2);

    detailImage.removeEventListener("load", onLoad);
    document.addEventListener('click', hideDetails);
  };

  // Change image and text
  const data = item.dataset;
  detailImage.addEventListener("load", onLoad);
  detailImage.src = item.querySelector('img').src;
  detailTitle.innerText = data.title;
  detailSecondary.innerText = data.secondary;
  detailDescription.innerText = data.text;

  // stagger-fade the items out from the one that was selected in a staggered way (and kill the tween of the selected item)
  gsap.to(items, {opacity: 0.3, stagger: { amount: 0.7, from: items.indexOf(item), grid: "auto"}}).kill(item);
  gsap.to(".app", {backgroundColor: "#888", duration: 1, delay: 0.3}); // fade out the background
  activeItem = item;
}

function hideDetails() {
  document.removeEventListener('click', hideDetails);
  gsap.set(details, {overflow: "hidden"});

  // record the current state of details
  const state = Flip.getState(details);

  // scale details down so that its detailImage fits exactly on top of activeItem
  Flip.fit(details, activeItem, {scale: true, fitChild: detailImage});

  // animate the other elements, like all fade all items back up to full opacity, slide the detailContent away, and tween the background color to white.
  const tl = gsap.timeline();
  tl.set(details, {overflow: "hidden"})
    .to(detailContent, {yPercent: -100})
    .to(items, {opacity: 1, stagger: {amount: 0.7, from: items.indexOf(activeItem), grid: "auto"}})
    .to(".app", {backgroundColor: "#fff"}, "<");

  // animate from the original state to the current one.
  Flip.from(state, {
    scale: true,
    duration: 0.5,
    delay: 0.2, // 0.2 seconds because we want the details to slide up first, then flip.
    onInterrupt: () => tl.kill()
  })
    .set(details, {visibility: "hidden"});

  activeItem = null;
}

// Add click listeners
gsap.utils.toArray('.item').forEach(item => item.addEventListener('click', () => showDetails(item)));

// Intro animation
window.addEventListener('load', () => {
  gsap.to('.app', { autoAlpha: 1, duration: 0.2 });
  gsap.from('.item', {autoAlpha: 0, yPercent: 30, stagger: 0.04});
});
```

Grid items view with Flip Plugin

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-owl.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-deer.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-hipster.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-ram.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-dog.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-sideram.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-multiram.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-gorilla.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-bird.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-owl.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-deer.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-hipster.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-ram.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-dog.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-sideram.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-multiram.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-gorilla.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-bird.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-owl.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-deer.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-hipster.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-ram.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-dog.png)

![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/181794/kl-sideram.png)

Placeholder title

Placeholder secondary

Lorem ipsum dolor sit amet, consectetur adipisicing elit. Iure cum, est amet delectus, blanditiis voluptatem laborum pariatur consequatur quae voluptate, nisi. Laborum adipisci iste earum distinctio, fugit, quas ipsa impedit.

[![](https://assets.codepen.io/16327/internal/avatars/users/default.png?fit=crop&format=auto&height=256&version=1697554632&width=256)](https://codepen.io/GreenSock)

This Pen is owned by [GSAP](https://codepen.io/GreenSock) on [CodePen](https://codepen.io/).

It is a fork of [this Pen.](https://codepen.io/pretender/fullpage/dqLjGb?default-tab=result&theme-id=41164&view=)

[See more by @GreenSock on CodePen](https://codepen.io/GreenSock)

### External CSS

This Pen doesn't use any external CSS resources.


### External JavaScript

1. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/gsap-latest-beta.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/gsap-latest-beta.min.js)
2. [https://assets.codepen.io/16327/Flip.min.js](https://assets.codepen.io/16327/Flip.min.js)

Resources


- 1Ã—
- 0.5Ã—
- 0.25Ã—

Rerun

## **Config Object** [â€‹](https://gsap.com/docs/v3/Plugins/Flip/\#config-object "Direct link to config-object")

The [Flip.from()](https://gsap.com/docs/v3/Plugins/Flip/static.from()) options object (2nd parameter) can contain any of the following optional properties **in addition to any standard tween properties like `duration`, `ease`, `onComplete`**, etc. as described [here](https://gsap.com/docs/v3/GSAP/gsap.to()):

### Property

### Description

- #### absolute [Direct link to absolute](https://gsap.com/docs/v3/Plugins/Flip/\#absolute)

Boolean \| String \| Array \| NodeList \| Element \- specifies which of the targets should have `position: absolute` applied during the course of the FLIP animation. If `true`, **all** of the targets are affected, or use selector text like `".box"` (or an Array/NodeList of Elements, or even a single Element) to specify a subset of the targets. This can solve layout challenges with flex and grid layouts, for example. If things aren't behaving in a seamless way, try setting `absolute: true`. Beware, that `position: absolute` removes the elements from document flow, so things below can collapse. In that case, just define a subset that doesn't include the container element so it props the layout open. _(added in 3.9.0)_

- #### absoluteOnLeave [Direct link to absoluteOnLeave](https://gsap.com/docs/v3/Plugins/Flip/\#absoluteOnLeave)

Boolean \- if `true`, any "leaving" Elements (ones passed to the `onLeave()`) will be set to `position: absolute` during the flip animation. This can be very useful when you set elements to `display: none` to hide them in the final state, but you want to animate them out (fade, scale, whatever). It's critical that they not affect layout but you still want them visible during the animation. _(added in 3.9.0)_

- #### fade [Direct link to fade](https://gsap.com/docs/v3/Plugins/Flip/\#fade)

Boolean \- by default, if the target element associated with a particular `data-flip-id` in the previous state is a **different element** than the one with the same `data-flip-id` in the end state, it will get swapped immediately but if you'd prefer that they cross-fade, set `fade: true`. Again, this only applies when swapping elements. If the "swapping out" (leaving) element is `display: none` (CSS), obviously it won't be visible for fading but if you set the Flip to `absolute: true`, it will force the element to the previous display state _during_ the flip so that it can cross-fade. The reason `absolute: true` is necessary in this case is because otherwise the element would affect document flow and throw off the positioning of other elements but if it is `position: absolute` (CSS), it's removed from the document flow and won't contaminate positioning.

- #### nested [Direct link to nested](https://gsap.com/docs/v3/Plugins/Flip/\#nested)

Boolean \- if the Flip has any _nested_ targets (like a parent and its child are both in the `targets`), set `nested: true` to have Flip perform extra calculations to prevent those movements from compounding. A parent's movement affects its children, so if both are mapped to end up 200px from their original position and Flip moves them both 200px, the child would end up moving 400px unless `nested: true` is set.

- #### onEnter [Direct link to onEnter](https://gsap.com/docs/v3/Plugins/Flip/\#onEnter)

Function \- A callback that's called if/when a target either isn't found in the original `state` or it was not in the document flow in that original state (like `display: none`), but it _IS_ in the document flow in the **end** state. Since there is no position/size data to compare to in the original state, it won't be included in the flip animation, but the callback receives an Array of the entering elements as a parameter so that you can animate them as you please (like fade them in). Any animation returned by this callback will get added to the flip timeline so that it gets forced to completion if a competing flip interrupts it. For example:

```codeBlockLines_p187
onEnter: elements => gsap.fromTo(elements, {opacity: 0}, {opacity: 1})

```

- #### onLeave [Direct link to onLeave](https://gsap.com/docs/v3/Plugins/Flip/\#onLeave)

Function \- A callback that's called if/when a target is in the original `state` but not the end state, or if it isn't in the document flow in the end state (like `display: none`). Since there is no position/size data to compare to in the end state, it won't be included in the flip animation, but the callback receives an Array of the leaving elements as a parameter so that you can animate them as you please (like fade them out). **IMPORTANT:** these elements won't be visible unless you also set `absolute: true` (otherwise, it'd throw off document flow). If `absolute: true` is set, it will force `display` to whatever it was in the previous state and then revert it back at the end of the flip. Any animation returned by this callback will get added to the flip timeline so that it gets forced to completion if a competing flip interrupts it. For example:

```codeBlockLines_p187
onLeave: elements => gsap.fromTo(elements, {opacity: 1}, {opacity: 0})

```

- #### props [Direct link to props](https://gsap.com/docs/v3/Plugins/Flip/\#props)

String \- a comma-delimited list of _camelCased_ CSS properties that should be included in the flip animation beyond the standard positioning/size/rotation/skew ones. For example, `"backgroundColor,color"`. This will only work, however, if the props exist in the `state` object (first parameter) because otherwise there's no corresponding data to pull from. By default, Flip will use the `props` that were captured in the state with [Flip.getState(targets, props)](https://gsap.com/docs/v3/Plugins/Flip/static.getState()), so it's very rare that you'd need to define `props` in [Flip.from()](https://gsap.com/docs/v3/Plugins/Flip/static.from()). It's only useful if you want to _LIMIT_ them to a subset of the ones captured in the state.

- #### prune [Direct link to prune](https://gsap.com/docs/v3/Plugins/Flip/\#prune)

Boolean \- if `true`, Flip will remove any targets from the animation that match the previous state (position/size) in order to conserve resources. This requires a little more processing up-front, but it may improve performance during the animation when several get removed, plus it also makes staggering more intuitive since you may not want non-animating targets to be factored into the staggering. _(added in 3.9.0)_

- #### scale [Direct link to scale](https://gsap.com/docs/v3/Plugins/Flip/\#scale)

Boolean \- by default, Flip will affect the `width` and `height` CSS properties to alter the size, but if you'd rather scale the element instead (typically better performance), set `scale: true`.

- #### simple [Direct link to simple](https://gsap.com/docs/v3/Plugins/Flip/\#simple)

Boolean \- if `true`, Flip will skip the extra calculations that would be necessary to accommodate rotation/scale/skew in determining positions. It's like telling Flip _"I promise that there aren't any rotated/scaled/skewed containers for the Flipping elements"_ which makes things **faster**. In most cases, the performance difference isn't noticeable, but if you're flipping a lot of elements it can help keep things snappy.

- #### spin [Direct link to spin](https://gsap.com/docs/v3/Plugins/Flip/\#spin)

Boolean \| Number \| Function \-
if `true`, the elements will spin an extra 360 degrees during the flip animation which makes it look a little more fun. Or you can define a **number** of full rotations, including a negative number, so `-1` would spin in the opposite direction once. If you provide a **function**, it will be called once for each target so that you can return whatever value you'd like for each individual element's spin. This allows you to, for example, have certain targets spin one direction, other elements spin another direction, or return 0 to not spin at all. Sample code: ...

```codeBlockLines_p187
Flip.from(state, {
  spin: (index, target) => {
    if (target.classList.contains("clockwise")) {
      return 1;
    } else if (target.classList.contains("counter-clockwise")) {
      return -1;
    } else {
      return 0;
    }
  },
})

```

- #### targets [Direct link to targets](https://gsap.com/docs/v3/Plugins/Flip/\#targets)

String \| Element \| Array \| NodeList \- by default, Flip will use the targets from the `state` object (first parameter), but you can specify a subset of those as either selector text (`".class, #id"`), an Element, an Array of Elements, or a NodeList. If any of the targets provided is NOT found in the `state` object, it will be passed to the `onEnter` and _not_ included in the flip animation because there's no previous state from which to pull position/size data.

- #### toggleClass [Direct link to toggleClass](https://gsap.com/docs/v3/Plugins/Flip/\#toggleClass)

String \- adds a CSS class to the targets while the flip animation is in progress. For example `"flipping"`.

- #### zIndex [Direct link to zIndex](https://gsap.com/docs/v3/Plugins/Flip/\#zIndex)

Number \- immediately sets the zIndex CSS property to this value for the entire course of the flip animation and then reverts at the end. This makes it easy to ensure that your flipping elements are on top of other elements during the animation, for example.

## How do I flip between two _different_ elements? [â€‹](https://gsap.com/docs/v3/Plugins/Flip/\#how-do-i-flip-between-two-different-elements "Direct link to how-do-i-flip-between-two-different-elements")

Flip looks for a `data-flip-id` attribute on every element it interacts with (via [Flip.getState()](https://gsap.com/docs/v3/Plugins/Flip/static.getState()) or [Flip.from()](https://gsap.com/docs/v3/Plugins/Flip/static.from()), etc.) and if one isn't found, Flip assigns an incremented one automatically ("auto-1", "auto-2", etc.). It lets you correlate targets (the target with the `data-flip-id` of `"5"` in the "from" state gets matched up with the target with a `data-flip-id` of `"5"` in the end state). The `data-flip-id` can be any string, not just a number.

So if you want to flip between two different targets, make sure the data-flip-id attribute in the end state matches the one in the "from" state. When Flip sees that there are two with the same value in the from/end state, it will automatically figure out which one is disappearing (typically with `display: none`) and base things off of that to "swap" the elements. If you want them to crossfade, simply set `fade: true`, otherwise they'll immediately swap. And it is typically best to set `absolute: true` so that when Flip alters the `display` value, it doesn't affect the document flow.

#### loading...

CodePen Embed - Flip Between Different Targets - GSAP Flip

- [HTML](https://codepen.io/GreenSock/embed/XWKLYWe/0268e6a4e9d646eba82f852a869677ca?default-tab=result&theme-id=41164#html-box)
- [CSS](https://codepen.io/GreenSock/embed/XWKLYWe/0268e6a4e9d646eba82f852a869677ca?default-tab=result&theme-id=41164#css-box)
- [JS](https://codepen.io/GreenSock/embed/XWKLYWe/0268e6a4e9d646eba82f852a869677ca?default-tab=result&theme-id=41164#js-box)

- [Result](https://codepen.io/GreenSock/embed/XWKLYWe/0268e6a4e9d646eba82f852a869677ca?default-tab=result&theme-id=41164#result-box)
- [Skip Results Iframe](https://codepen.io/GreenSock/embed/XWKLYWe/0268e6a4e9d646eba82f852a869677ca?default-tab=result&theme-id=41164#resources-link)

[EDIT ON](https://codepen.io/GreenSock/pen/XWKLYWe "Edit on CodePen")

``` cm-s-default
<div class="initial">
  <img class="thumbnail" data-flip-id="img" src="https://assets.codepen.io/16327/flip-flair.png">
</div>

<div class="container">
  <img class="full-size" data-flip-id="img"  src="https://assets.codepen.io/16327/massive-flip-flair.png">
</div>
```

``` cm-s-default
body {
  padding: 0;
  box-sizing: border-box;
  text-align: center;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  height: 100vh;
  overflow: hidden;
}
h1 {
  margin-left: 20px;
}

.container {
  position: fixed;
  top: 15px;
  left: 15px;
  right: 15px;
  bottom: 15px;
  display: flex;
  justify-content: center;
  align-items: center;
  align-content: center;
  pointer-events: none;
  z-index: 999;
}

.full-size {
  position: relative;
  flex-shrink: 0;
  flex-grow: 0;
  height: 80%;
  aspect-ratio: 1/1;
  display: none;
}
.full-size.active {
  display: block;
  z-index: 2;
}

.thumbnail {
  width: 150px;
  height: 150px;
}

.initial {
  position: relative;
  width: 180px;
  height: 180px;
  border: dashed 2px var(--color-surface-white);
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 1;
}

.initial:after {
  content: "drag and click me...";
  position: absolute;
  background-image: url("data:image/svg+xml,%3Csvg width='100%25' height='100%25' viewBox='0 0 1516 1464' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' xml:space='preserve' xmlns:serif='http://www.serif.com/' style='fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2;'%3E%3Cpath d='M481.106,1059.48c40.533,-60.792 74.612,-125.5 105.72,-191.542c33.38,-70.875 64.242,-142.917 98.3,-213.458c33.85,-70.084 70.951,-139 116.609,-202.209c4.479,-6.208 9.108,-12.333 13.75,-18.416c36.487,-46.334 78.041,-88.125 124.45,-124.542c64.5,-48.917 136.066,-87.458 210.354,-119.333c83.954,-35.042 170.958,-62.167 258.404,-87.042c25.217,-7.167 50.479,-14.125 75.754,-21.083c21.009,-5.792 36.03,-29.834 29.1,-51.25c-6.954,-21.5 -28.737,-35.292 -51.254,-29.125c-100.741,27.708 -201.579,56.041 -299.054,93.958c-101.329,39.417 -197.683,88.458 -283.421,155.792c-84.475,66.375 -151.204,151.666 -205.071,244.125c-53.637,92.042 -95.441,190.25 -139.691,286.958c-41.634,91 -86.405,180.75 -144.725,262.375c-5.73,8.042 -11.613,15.958 -17.588,23.792c-34.783,44.375 -73.808,85.5 -118.171,120.458c-31.387,23.583 -65.154,43.792 -101.121,59.584c-3.295,1.333 -6.608,2.625 -9.929,3.916c29.221,-57.958 56.104,-117.166 79.171,-177.792c15.171,-39.874 28.579,-80.583 37.846,-122.249c2.421,-10.875 1.529,-22.334 -4.2,-32.126c-5.058,-8.625 -14.967,-16.875 -24.9,-19.124c-10.667,-2.459 -22.642,-1.917 -32.108,4.166c-8.871,5.75 -16.788,14.292 -19.15,24.917c-12.555,56.458 -32.48,111.166 -54.746,164.5c-19.3,45.333 -40.504,89.875 -63.046,133.708c-15.325,29.792 -31.233,59.292 -47.879,88.375c-2.946,5.167 -5.9,10.292 -8.938,15.417c-6.841,11.458 -7.191,25 -2.1,37.083c4.634,10.959 14.567,21.917 27,24.125c102.446,18 204.888,36 307.329,54c28.688,5.042 57.371,10.083 86.055,15.125c11.287,1.959 21.891,1.75 32.104,-4.208c8.646,-5.084 16.887,-14.959 19.15,-24.917c2.429,-10.666 1.904,-22.625 -4.2,-32.083c-5.563,-8.625 -14.379,-17.334 -24.9,-19.167c-93.467,-16.416 -186.929,-32.833 -280.392,-49.25c62.683,-23.708 119.513,-59.458 170.283,-103.5c56.417,-48.916 103.888,-107.958 145.205,-169.958Z' style='fill:%23fffce1;fill-rule:nonzero;'/%3E%3C/svg%3E");
  width:200px;
  height: 72px;
  background-size: 60px;
  padding-left: 75px;
  background-position: bottom left;
  background-repeat: no-repeat;
  text-align: left;
  bottom: 100%;
  margin-bottom: 0.2rem;
  margin-left: 0.5rem;
  left: 100%;
}

.thumbnail.active {
  visibility: hidden;
}
.thumbnail,
.thumbnail.flipping {
  visibility: visible;
}

```

``` cm-s-default
gsap.registerPlugin(Flip, Draggable);

const fullSize = document.querySelector(".full-size"),
      thumbnail = document.querySelector(".thumbnail");

Draggable.create(".initial", {bounds: "body"});

document.addEventListener("click", () => {
  const state = Flip.getState(".thumbnail, .full-size");

  fullSize.classList.toggle("active");
  thumbnail.classList.toggle("active");

  Flip.from(state, {
    duration: 0.6,
    fade: true,
    absolute: true,
    toggleClass: "flipping",
    ease: "power1.inOut"
  });

});

```

Flip Between Different Targets - GSAP Flip

![](https://assets.codepen.io/16327/flip-flair.png)

![](https://assets.codepen.io/16327/massive-flip-flair.png)

[![](https://assets.codepen.io/16327/internal/avatars/users/default.png?fit=crop&format=auto&height=256&version=1697554632&width=256)](https://codepen.io/GreenSock)

This Pen is owned by [GSAP](https://codepen.io/GreenSock) on [CodePen](https://codepen.io/).



[See more by @GreenSock on CodePen](https://codepen.io/GreenSock)

### External CSS

1. [https://codepen.io/GreenSock/pen/wvZQKQP.css](https://codepen.io/GreenSock/pen/wvZQKQP.css)

### External JavaScript

1. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/gsap-latest-beta.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/gsap-latest-beta.min.js)
2. [https://assets.codepen.io/16327/Flip.min.js](https://assets.codepen.io/16327/Flip.min.js)
3. [https://assets.codepen.io/16327/Draggable3.min.js](https://assets.codepen.io/16327/Draggable3.min.js)

Resources


- 1Ã—
- 0.5Ã—
- 0.25Ã—

Rerun

## Batching [â€‹](https://gsap.com/docs/v3/Plugins/Flip/\#batching "Direct link to Batching")

What if you need to create **multiple** coordinated Flip animations (perhaps in various React components)? They'd need to all [.getState()](https://gsap.com/docs/v3/Plugins/Flip/static.getState()) _BEFORE_ any of them make their changes to the DOM/styling because doing so could alter the position/size of the other elements. See the docs for [Flip.batch()](https://gsap.com/docs/v3/Plugins/Flip/static.batch()) for details.

## Caveats & Tips [â€‹](https://gsap.com/docs/v3/Plugins/Flip/\#caveats--tips "Direct link to Caveats & Tips")

- Flip does not accommodate 3D transforms (like rotationX, rotationY, or z).
- It is strongly recommended that you use `box-sizing: border-box` on your elements to ensure accurate width/height calculations.
- When `absolute: true` is set, remember that coordinates will be calculated based on the current viewport, so if the viewport size changes or the user scrolls DURING the flip, it may affect positioning (but once the flip is done and the offsets are removed, things will be where they should be). In other words, in-progress flipping isn't always responsive.
- Set any transform-related values (x, y, scale, rotation, etc.) [directly via GSAP](https://gsap.com/resources/mistakes#transforms) whenever possible (instead of just in CSS classes or inline) because GSAP caches transform-related data to supercharge performance and maximize accuracy. To clear GSAP's cache on a particular element (which you'd never need to do if you're making all your changes via GSAP), `gsap.set(element, {clearProps: "transform"});`

Deep Dive - Using a framework like Vue, React or Angular?

Beware that frameworks often **DON'T** render changes immediately, so you should wait until the render occurs _before_ initiating the [Flip.from()](https://gsap.com/docs/v3/Plugins/Flip/static.from()). [Batching](https://gsap.com/docs/v3/Plugins/Flip/static.batch()) may be an excellent option because you can `batch.getState(true)` and then perhaps a `useLayoutEffect(() => batch.run(true), [...])` in React. Another hack would be to use requestAnimationFrame() to wait one tick: `requestAnimationFrame(() => Flip.from(...));`

When you `Flip.getState(".your-class")`, it records position/size data for the elements with ".your-class" at that time, remembering **those particular elements** and their `data-flip-id` attribute values. Then, if you `Flip.from(yourState)`, and don't specify any `targets`, it will default to using the elements that were captured in the getState() but your framework may have re-rendered entirely new element instances (even if they look the same), thus they won't animate because Flip doesn't know to look at those new elements. The original ones were completely removed from the DOM, hence the need to tell the Flip _"use these new targets and search the state object for the IDs that match..."_. So make sure you define `targets` like this:

```codeBlockLines_p187
// BAD
Flip.from(state, {
  duration: 1,
});

// GOOD
Flip.from(state, {
  targets: ".your-class", // <-- BINGO!
  duration: 1,
});

```

And don't forget that you'll probably need to set a `data-flip-id` on those elements to make sure Flip knows which target matches up with which one from the captured state.

## Showcase & how-to demos [â€‹](https://gsap.com/docs/v3/Plugins/Flip/\#showcase--how-to-demos "Direct link to Showcase & how-to demos")

- [Flip showcase](https://codepen.io/collection/d725bcacb2f44bbdf0f44718f7ebbf55)
- [Flip how-to demos](https://codepen.io/collection/4a605f253549434210c139fa331704cb)

## **Methods** [â€‹](https://gsap.com/docs/v3/Plugins/Flip/\#methods "Direct link to methods")

|     |     |
| --- | --- |
| #### [Flip.batch](https://gsap.com/docs/v3/Plugins/Flip/static.batch())( id:String ) : FlipBatch | Coordinates the creation of multiple Flip animations in the properly sequenced set of steps to avoid cross-contamination. |
| #### [Flip.fit](https://gsap.com/docs/v3/Plugins/Flip/static.fit())( targetToResize:String \| Element, destinationTargetOrState:String \| Element \| FlipState, vars:Object ) ; | Repositions/resizes one element so that it appears to fit exactly into the same area as another element. Using the `fitChild` special property, you can even scale/reposition an element so that one if its _child_ elements is used for the fitting calculations instead! By default it alters the transforms (x, y, rotation, and skewX) as well as the width and height of the element, but if you set `scale: true` it will use scaleX and scaleY instead of width and height. |
| #### [Flip.from](https://gsap.com/docs/v3/Plugins/Flip/static.from())( state:FlipState, vars:Object ) : Timeline | Immediately moves/resizes the targets to match the provided `state` object, and then animates backwards to remove those offsets to end up at the current state. By default, `width` and `height` properties are used for the resizing, but you can set `scale: true` to scale instead (transform). It returns a timeline animation, so you can control it or add() other animations. |
| #### [Flip.getState](https://gsap.com/docs/v3/Plugins/Flip/static.getState())( targets:String \| Element \| Array, vars:Object ) : Object | Captures information about the current state of the `targets` so that they can be Flipped later. By default, this information includes the dimensions, rotation, skew, opacity, and the position of the targets in the viewport. Other properties can be captured by configuring the `vars` parameter. |
| #### [Flip.isFlipping](https://gsap.com/docs/v3/Plugins/Flip/static.isFlipping())( target:String \| Element ) : Boolean | Returns `true` if the given target is currently being Flipped. Otherwise returns `false`. |
| #### [Flip.killFlipsOf](https://gsap.com/docs/v3/Plugins/Flip/static.killFlipsOf())( targets:String \| Array \| NodeList \| Element, complete:boolean ) ; | Immediately kills the Flip animation associated with any of the targets provided. |
| #### [Flip.makeAbsolute](https://gsap.com/docs/v3/Plugins/Flip/static.makeAbsolute())( targets:String \| Element \| Array \| NodeList \| FlipState ) : Array | Sets all of the provided target elements to `position: absolute` while retaining their current positioning. |
| #### [Flip.to](https://gsap.com/docs/v3/Plugins/Flip/static.to())( state:FlipState, vars:Object ) : Timeline | Identical to [Flip.from()](https://gsap.com/docs/v3/Plugins/Flip/static.from()) except inverted, so this would animate **to** the provided state (from the current one). |

## FAQ [â€‹](https://gsap.com/docs/v3/Plugins/Flip/\#faq "Direct link to FAQ")

#### How do I include Flip in my project?

See the [installation page](https://gsap.com/docs/v3/Installation) for all the options (CDN, NPM, download, etc.) where there's even an interactive helper that provides the necessary code. Easy peasy. Don't forget to [register Flip](https://gsap.com/docs/v3/GSAP/gsap.registerPlugin()) like this in your project:

```codeBlockLines_p187
gsap.registerPlugin(Flip)

```

#### Is this included in the GSAP core?

No, you must load/import it separately

#### Is this only for Club GSAP members?

No, it's available to everyone for free! But [Club GSAP](https://gsap.com/pricing/) is pretty awesome...just sayin'.

#### It works fine during development, but suddenly stops working in the production build! What do I do?

Your build tool is probably dropping the plugin when [tree shaking](https://developer.mozilla.org/en-US/docs/Glossary/Tree_shaking) and you forgot to [register Flip](https://gsap.com/docs/v3/GSAP/gsap.registerPlugin()) (which protects it from tree shaking). Just register the plugin like this:

```codeBlockLines_p187
gsap.registerPlugin(Flip)

```

#### Is it bad to register a plugin multiple times?

No, it's perfectly fine. It doesn't help anything, nor does it hurt.

[Previous\\
\\
.wrapper()](https://gsap.com/docs/v3/Plugins/ScrollSmoother/wrapper()) [Next\\
\\
Flip.batch()](https://gsap.com/docs/v3/Plugins/Flip/static.batch())

## Contents

- [Video](https://gsap.com/docs/v3/Plugins/Flip/#video)
- [Features](https://gsap.com/docs/v3/Plugins/Flip/#features)
- [How does Flip work?](https://gsap.com/docs/v3/Plugins/Flip/#how-does-flip-work)
- [Simple example](https://gsap.com/docs/v3/Plugins/Flip/#simple-example)
- [Flex example](https://gsap.com/docs/v3/Plugins/Flip/#flex-example)
- [Advanced example](https://gsap.com/docs/v3/Plugins/Flip/#advanced-example)
- [**Config Object**](https://gsap.com/docs/v3/Plugins/Flip/#config-object)
- [How do I flip between two _different_ elements?](https://gsap.com/docs/v3/Plugins/Flip/#how-do-i-flip-between-two-different-elements)
- [Batching](https://gsap.com/docs/v3/Plugins/Flip/#batching)
- [Caveats & Tips](https://gsap.com/docs/v3/Plugins/Flip/#caveats--tips)
- [Showcase & how-to demos](https://gsap.com/docs/v3/Plugins/Flip/#showcase--how-to-demos)
- [**Methods**](https://gsap.com/docs/v3/Plugins/Flip/#methods)
- [FAQ](https://gsap.com/docs/v3/Plugins/Flip/#faq)

## [GSAP](https://gsap.com/)

- [Core](https://gsap.com/core/)
- [Docs](https://gsap.com/docs/v3)
- [All Plugins](https://gsap.com/docs/v3/Plugins/)

## [Scroll](https://gsap.com/scroll/)

- [ScrollTrigger](https://gsap.com/docs/v3/Plugins/ScrollTrigger)
- [ScrollSmoother](https://gsap.com/docs/v3/Plugins/ScrollSmoother)
- [ScrollTo](https://gsap.com/docs/v3/Plugins/ScrollToPlugin)
- [Observer](https://gsap.com/docs/v3/Plugins/Observer)

## [SVG](https://gsap.com/svg/)

- [MorphSVG](https://gsap.com/docs/v3/Plugins/MorphSVGPlugin)
- [DrawSVG](https://gsap.com/docs/v3/Plugins/DrawSVGPlugin)
- [MotionPath](https://gsap.com/docs/v3/Plugins/MotionPathPlugin)
- [MotionPathHelper](https://gsap.com/docs/v3/Plugins/MotionPathHelper)

## [UI](https://gsap.com/ui/)

- [Flip](https://gsap.com/docs/v3/Plugins/Flip)
- [SplitText](https://gsap.com/docs/v3/Plugins/SplitText)
- [Draggable](https://gsap.com/docs/v3/Plugins/Draggable)
- [Inertia](https://gsap.com/docs/v3/Plugins/InertiaPlugin)
- [Observer](https://gsap.com/docs/v3/Plugins/Observer)

## [Text](https://gsap.com/text/)

- [SplitText](https://gsap.com/docs/v3/Plugins/SplitText)
- [ScrambleText](https://gsap.com/docs/v3/Plugins/ScrambleTextPlugin)
- [Text](https://gsap.com/docs/v3/Plugins/TextPlugin)

Subscribe to the GSAPÂ® newsletter to stay up-to-date with the latest releases

Email \*

## Company

- [About](https://gsap.com/about/)
- [Blog](https://gsap.com/blog/)
- [Contact Us](https://gsap.com/community/contact/)

## GSAP

- [Pricing](https://gsap.com/pricing/)
- [Showcase](https://gsap.com/showcase/)
- [Learn GSAP](https://gsap.com/resources/)
- [Community](https://gsap.com/community/)

## Connect

- [Codepen](https://www.codepen.io/GreenSock)
- [GitHub](https://github.com/greensock/GreenSock-JS)
- [Facebook](https://www.facebook.com/greensock)
- [LinkedIn](https://www.linkedin.com/company/greensock)
- [X](https://www.twitter.com/greensock)

Â©2025 GSAP - A Webflow Product. All rights reserved.

- [Privacy Policy.](https://gsap.com/community/privacy-policy/)
- [Terms of Use.](https://gsap.com/community/terms-of-use/)