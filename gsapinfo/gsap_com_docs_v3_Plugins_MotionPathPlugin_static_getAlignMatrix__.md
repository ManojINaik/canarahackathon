[GSAPGSAP](https://gsap.com/) Menu

- Tools




- [Core](https://gsap.com/core/)
- [Scroll](https://gsap.com/scroll/)
- [SVG](https://gsap.com/svg/)
- [UI](https://gsap.com/ui/)
- [Text](https://gsap.com/text/)

- [Installation](https://gsap.com/docs/v3/Installation)
- [Starter Templates](https://gsap.com/demos)
- [GSAP & React](https://gsap.com/resources/React)
- [Video Lessons](https://www.youtube.com/@GreenSockLearning)

Professional-grade JavaScript animation for the modern web

![](https://gsap.com/img/header-shapes.png)

- [Pricing](https://gsap.com/pricing/)
- [Showcase](https://gsap.com/showcase/)
- [Community](https://gsap.com/community/)
- [Learn GSAP](https://gsap.com/resources/)
- [Docs](https://gsap.com/docs/v3)

- Notifications






#### Notifications



[Notification Settings](https://gsap.com/community/notifications/options) [View All](https://gsap.com/community/notifications/)

- Messages






#### Messages



[Compose new](https://gsap.com/community/messenger/compose) [Go to Inbox](https://gsap.com/community/messenger)

- Login/Create Account




#### Sign In







Login [Forgot your password?](https://gsap.com/community/lostpassword/)





#### Why create an account?



- It's free

- Participate in the forums

- Updates on the products you use

- Exclusive offers and more


[Create an Account](https://gsap.com/community/register)

- [My Account](https://gsap.com/community/account-dashboard)








![Guest](https://gsap.com/community/uploads/set_resources_8/84c1e40ea0e759e3f1505eb1788ddf3c_default_photo.png)





Guest







Guests







- [Dashboard](https://gsap.com/community/account-dashboard)
- [Orders & Billing](https://gsap.com/community/clients/orders)
- [Account Settings](https://gsap.com/community/settings)
- [Logout](https://gsap.com/community/logout/?csrfKey=9aee019799496878837f41accb9fe816)

- [Get GSAP](https://gsap.com/docs/v3/Installation)

- Tools
  - [Core](https://gsap.com/core/)
  - [Scroll](https://gsap.com/scroll/)
  - [SVG](https://gsap.com/svg/)
  - [UI](https://gsap.com/ui/)
  - [Text](https://gsap.com/text/)
- [Pricing](https://gsap.com/pricing/)
- [Showcase](https://gsap.com/showcase/)
- [Community](https://gsap.com/community/)
- [Learn GSAP](https://gsap.com/resources/)
- [Docs](https://gsap.com/docs/v3/)

- Login/Create Account
- ![Guest](https://gsap.com/community/uploads/set_resources_8/84c1e40ea0e759e3f1505eb1788ddf3c_default_photo.png)





Guest







Guests


![Guest](https://gsap.com/community/uploads/set_resources_8/84c1e40ea0e759e3f1505eb1788ddf3c_default_photo.png)

Guest

Guests

- [Dashboard](https://gsap.com/community/account-dashboard)
- [Orders & Billing](https://gsap.com/community/clients/orders)
- [Account Settings](https://gsap.com/community/settings)
- [Logout](https://gsap.com/community/logout/?csrfKey=9aee019799496878837f41accb9fe816)
- [Messages](https://gsap.com/community/messenger/)
- [Notifications](https://gsap.com/community/notifications/)

#### Sign In

Login [Forgot your password?](https://gsap.com/community/lostpassword/)

#### Not got an account?

[Create an Account](https://gsap.com/community/register)

- [CodePen](https://codepen.io/GreenSock)
- [GitHub](https://github.com/greensock/GreenSock-JS/)
- [Facebook](https://www.facebook.com/greensock/)
- [LinkedIn](https://www.linkedin.com/company/greensock)
- [x](https://www.twitter.com/greensock/)

![](https://gsap.com/img/header-shapes.png)

[Skip to main content](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getAlignMatrix()/#__docusaurus_skipToContent_fallback)

[Docs](https://gsap.com/docs/v3/) [Learning](https://gsap.com/resources)

[v3.12.7](https://gsap.com/docs/v3/)

- [v3.12.7](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getAlignMatrix())
- [v2 - archived](https://www.gsap.com/archived-docs/)

Search`` `K`

- [docsHome](https://gsap.com/docs/v3/)
- Quick Start
- [Installation](https://gsap.com/docs/v3/Installation)

- [YouTube Channel](https://www.youtube.com/@GreenSockLearning)
- [Trial the Club Plugins](https://gsap.com/resources/trial)
- [Demos / Starter Templates](https://gsap.com/demos)
- [Cheatsheet](https://gsap.com/cheatsheet)
- Fundamentals
- [GSAP](https://gsap.com/docs/v3/GSAP/)

- [Tween](https://gsap.com/docs/v3/GSAP/Tween)

- [Timeline](https://gsap.com/docs/v3/GSAP/Timeline)

- [CSS](https://gsap.com/docs/v3/GSAP/CorePlugins/CSS)
- [Easing](https://gsap.com/docs/v3/Eases)

- Plugins
- [What's a plugin?](https://gsap.com/docs/v3/Plugins)
- [ScrollTrigger](https://gsap.com/docs/v3/Plugins/ScrollTrigger/)

- [ScrollSmoother](https://gsap.com/docs/v3/Plugins/ScrollSmoother/)

- [Flip](https://gsap.com/docs/v3/Plugins/Flip/)

- [more plugins](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getAlignMatrix()/#)

  - [CSSRule](https://gsap.com/docs/v3/Plugins/CSSRulePlugin/)

  - [Draggable](https://gsap.com/docs/v3/Plugins/Draggable/)

  - [DrawSVG](https://gsap.com/docs/v3/Plugins/DrawSVGPlugin)

  - [Easel](https://gsap.com/docs/v3/Plugins/EaselPlugin)
  - [GSDevTools](https://gsap.com/docs/v3/Plugins/GSDevTools)

  - [Inertia](https://gsap.com/docs/v3/Plugins/InertiaPlugin/)

  - [MorphSVG](https://gsap.com/docs/v3/Plugins/MorphSVGPlugin)

  - [MotionPath](https://gsap.com/docs/v3/Plugins/MotionPathPlugin)

    - [methods](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getAlignMatrix()/#)

      - [MotionPathPlugin.arrayToRawPath()](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.arrayToRawPath())
      - [MotionPathPlugin.convertCoordinates()](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.convertCoordinates())
      - [MotionPathPlugin.convertToPath()](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.convertToPath())
      - [MotionPathPlugin.getAlignMatrix()](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getAlignMatrix())
      - [MotionPathPlugin.getGlobalMatrix()](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getGlobalMatrix())
      - [MotionPathPlugin.getLength()](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getLength())
      - [MotionPathPlugin.getPositionOnPath()](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getPositionOnPath())
      - [MotionPathPlugin.getRawPath()](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getRawPath())
      - [MotionPathPlugin.getRelativePosition()](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getRelativePosition())
      - [MotionPathPlugin.pointsToSegment()](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/methods/static-pointsToSegment)
      - [MotionPathPlugin.rawPathToString()](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.rawPathToString())
      - [MotionPathPlugin.sliceRawPath()](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.sliceRawPath())
      - [MotionPathPlugin.stringToRawPath()](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.stringToRawPath())
  - [MotionPathHelper](https://gsap.com/docs/v3/Plugins/MotionPathHelper/)

  - [Observer](https://gsap.com/docs/v3/Plugins/Observer/)

  - [Physics2D](https://gsap.com/docs/v3/Plugins/Physics2DPlugin)
  - [PhysicsProps](https://gsap.com/docs/v3/Plugins/PhysicsPropsPlugin)
  - [Pixi](https://gsap.com/docs/v3/Plugins/PixiPlugin/)

  - [ScrambleText](https://gsap.com/docs/v3/Plugins/ScrambleTextPlugin)
  - [ScrollTo](https://gsap.com/docs/v3/Plugins/ScrollToPlugin)

  - [SplitText](https://gsap.com/docs/v3/Plugins/SplitText/)

  - [Text](https://gsap.com/docs/v3/Plugins/TextPlugin)
- Useful features & tools
- [Utility Methods](https://gsap.com/docs/v3/GSAP/UtilityMethods)

- [Staggers](https://gsap.com/resources/getting-started/Staggers)
- [Helper functions](https://gsap.com/docs/v3/HelperFunctions/)

- [React - useGSAP()](https://gsap.com/resources/React)

- more plugins
- [MotionPath](https://gsap.com/docs/v3/Plugins/MotionPathPlugin)
- methods
- MotionPathPlugin.getAlignMatrix()

On this page

# MotionPathPlugin.getAlignMatrix

### MotionPathPlugin.getAlignMatrix( fromElement:Element \| window, toElement:Element \| window, fromOrigin:Array, toOrigin:Array \| String ) : Matrix2D

Gets a Matrix2D for translating between coordinate spaces, typically so that you can move the `fromElement` to align it with the `toElement` while factoring in all transforms (even nested ones). The matrix allows you to convert any point/coordinate using its apply() method.

#### Parameters

- #### **fromElement**: Element \| window




The element that serves as the basis for the alignment matrix. Typically this is the element that will be moved to the `toElement` using the resulting matrix.

- #### **toElement**: Element \| window




The element that the `fromElement` should be aligned with

- #### **fromOrigin**: Array




\[optional\] Determines the point on the `fromElement` that gets aligned. It can be either an Array with progress values along the x and y axis like `[0.5, 0.5]` (center), `[1, 0]` (top right corner), etc. OR a point Object with pixel-based local coordinates like `{x: 100, y: 0}`

- #### **toOrigin**: Array \| String




\[optional\] Determines the point on the `toElement` that gets aligned. It can be either an Array with progress values along the x and y axis like `[0.5, 0.5]` (center), `[1, 0]` (top right corner), etc. OR a point Object with pixel-based local coordinates like `{x: 100, y: 0}` OR for If the toElement is a <path> you can use `"auto"` to align with the beginning of the path itself rather than using the bounding box.


### Returns : Matrix2D [​](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getAlignMatrix()/\#returns--matrix2d "Direct link to Returns : Matrix2D")

An object with a, b, c, d, e, and f properties just like an [SVGMatrix](https://developer.mozilla.org/en-US/docs/Web/API/SVGMatrix).

### Details [​](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getAlignMatrix()/\#details "Direct link to Details")

Gets a Matrix2D for translating between coordinate spaces, typically so that you can move the `fromElement` to align it with the `toElement` while factoring in all transforms (even nested ones). The matrix allows you to convert any point/coordinate using its `apply()` method. For example, you can get a matrix that aligns the top left corner of #div1 with the top left corner of #div2 (regardless of nested transforms) and then to plot where 200px over and 100px down (in #div2's coordinate space) corresponds to #div1's coordinates, you could `matrix.apply({x:200, y:100})`.

## What's a Matrix2D? [​](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getAlignMatrix()/\#whats-a-matrix2d "Direct link to What's a Matrix2D?")

A Matrix2D is just an object with `a`, `b`, `c`, `d`, `e`, and `f` properties representing a 2D transformation matrix (very similar to an [SVGMatrix](https://developer.mozilla.org/en-US/docs/Web/API/SVGMatrix)). It contains all rotation, scale, skew, and x/y translation data and it's useful for converting between coordinate spaces. It has an `apply()` method that accepts a point (like `matrix.apply({x:0, y:100})`) and returns a new point with the matrix transforms applied.

## Sample code [​](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getAlignMatrix()/\#sample-code "Direct link to Sample code")

```codeBlockLines_p187
// get a matrix for aligning the center of the dot element with the top left corner of the dragme element (which will be treated as 0,0)
let matrix = MotionPathPlugin.getAlignMatrix(dot, dragme, [0.5, 0.5], [0, 0]),
  // 0,0 is the origin of the alignment (the top left corner in this case), but try any local coordinates.
  dragmePoint = { x: 0, y: 0 },
  // convert into the dot's coordinate space (technically its parentNode's)
  dotPoint = matrix.apply(dragmePoint);

gsap.to(dot, {
  // if there were already transforms applied, those would affect the matrix, so we should treat them as relative.
  x: "+=" + dotPoint.x,
  y: "+=" + dotPoint.y,
  ease: "power1.inOut",
});

```

## Demo [​](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getAlignMatrix()/\#demo "Direct link to Demo")

#### loading...

CodePen Embed - GSAP MotionPathPlugin.getAlignMatrix() Demo

- [HTML](https://codepen.io/GreenSock/embed/wvaorLg?default-tab=result&theme-id=41164#html-box)
- [CSS](https://codepen.io/GreenSock/embed/wvaorLg?default-tab=result&theme-id=41164#css-box)
- [JS](https://codepen.io/GreenSock/embed/wvaorLg?default-tab=result&theme-id=41164#js-box)

- [Result](https://codepen.io/GreenSock/embed/wvaorLg?default-tab=result&theme-id=41164#result-box)
- [Skip Results Iframe](https://codepen.io/GreenSock/embed/wvaorLg?default-tab=result&theme-id=41164#resources-link)

[EDIT ON](https://codepen.io/GreenSock/pen/wvaorLg "Edit on CodePen")

``` cm-s-default
<h1>getAlignMatrix()</h1>
<p>Drag either box. When released, the green dot will animate (inside its container) to the center of the "Drag me" &lt;div&gt; using getAlignMatrix() to calculate the position even though both elements are scaled/rotated! The dot is nested inside a transformed container, so its coordinate system is distorted. No problem! Read the code comments for details.</p><br>
<div id="dragme">Drag me</div>
<div id="dot-container">
  Dot container
  <div id="dot"></div>
</div>

<a href="https://greensock.com"><img class="gsap-3-logo" src="https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/gsap-3-logo.svg" width="150" /></a>
```

``` cm-s-default
body {
  padding: 10px 15px;
  text-align: center;
  overflow: hidden;
  background-color: #111;
  color: #aaa;
}

p {
  font-weight: 300;
  max-width: 900px;
  display: inline-block;
  text-align: left;
}

#dot-container {
  border: 2px solid #999;
  width: 160px;
  height: 70px;
  position: absolute;
  top: 0;
  left: 0;
  font-size: 22px;
  line-height: 35px;
  color: #ddd;
}

#dot,
#dragme::after  {
  position: absolute;
  top: 36px;
  left: 70px;
  border-radius: 50%;
  width: 20px;
  height: 20px;
  background-color: #88ce02;
}

#dragme {
  width: 200px;
  height: 140px;
  background-color: #555;
  color: white;
  text-align: center;
  line-height: 62px;
  font-size: 38px;
  display: inline-block;
  border: 2px solid #ccc;
}

.gsap-3-logo {
    width: 20vw;
    max-width: 150px;
    position: fixed;
    bottom: 15px;
    right: 15px;
}

#dragme::after {
  content: '';
  top: calc(50% - 10px);
  left: calc(50% - 10px);
  background-color: black;
}
```

``` cm-s-default
gsap.registerPlugin(Draggable, MotionPathPlugin);

let dragme = document.querySelector("#dragme"),
    dot = document.querySelector("#dot"),
    dotContainer = document.querySelector("#dot-container");

// apply some transforms to make it more impressive
gsap.to(dragme, {scale: 0.7, rotation: -20, y: 10, duration: 1.5});
gsap.to(dotContainer, {scale: 0.6, rotation: 25, y: 10, x: -10, duration: 1.5, delay: 1})

// make it draggable
Draggable.create([dragme, dotContainer], {onRelease: moveDot, bounds: window});

// here is where the magic is...
function moveDot() {
    let matrix = MotionPathPlugin.getAlignMatrix(dot, dragme, [0.5, 0.5], [0.5, 0.5]),
        // 0,0 is the origin of the alignment (the center in this case), but try any local coordinates like {x: 100, y: 70} for the bottom right corner.
        dragmePoint = {x: 0, y: 0},
        // convert the point into the dot's coordinate space (technically its parentNode's)
        dotPoint = matrix.apply(dragmePoint);

    gsap.to(dot, {
      // if there were already transforms applied, those would affect the matrix, so we should treat them as relative.
      x: "+=" + dotPoint.x,
      y: "+=" + dotPoint.y,
      ease: "power1.inOut",
      overwrite: true
    });
}

gsap.delayedCall(2, () => {
  window.addEventListener("resize", () => {
    // wait 0.5 seconds after the last "resize" event fires (performance improvement)
    gsap.killTweensOf(moveDot);
    gsap.delayedCall(0.5, moveDot);
  });
})

```

GSAP MotionPathPlugin.getAlignMatrix() Demo

# getAlignMatrix()

Drag either box. When released, the green dot will animate (inside its container) to the center of the "Drag me" <div> using getAlignMatrix() to calculate the position even though both elements are scaled/rotated! The dot is nested inside a transformed container, so its coordinate system is distorted. No problem! Read the code comments for details.

Drag me

Dot container


[![](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/gsap-3-logo.svg)](https://greensock.com/)

[![](https://assets.codepen.io/16327/internal/avatars/users/default.png?fit=crop&format=auto&height=256&version=1697554632&width=256)](https://codepen.io/GreenSock)

This Pen is owned by [GSAP](https://codepen.io/GreenSock) on [CodePen](https://codepen.io/).



[See more by @GreenSock on CodePen](https://codepen.io/GreenSock)

### External CSS

1. [https://codepen.io/GreenSock/pen/JGaKdQ.css](https://codepen.io/GreenSock/pen/JGaKdQ.css)

### External JavaScript

1. [https://assets.codepen.io/16327/gsap-latest-beta.min.js](https://assets.codepen.io/16327/gsap-latest-beta.min.js)
2. [https://assets.codepen.io/16327/Draggable3.min.js](https://assets.codepen.io/16327/Draggable3.min.js)
3. [https://assets.codepen.io/16327/MotionPathPlugin.min.js](https://assets.codepen.io/16327/MotionPathPlugin.min.js)

Resources


- 1×
- 0.5×
- 0.25×

Rerun

`getAlignMatrix()` was added in GSAP 3.2.0

[Previous\\
\\
MotionPathPlugin.convertToPath()](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.convertToPath()) [Next\\
\\
MotionPathPlugin.getGlobalMatrix()](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getGlobalMatrix())

## Contents

- [Returns : Matrix2D](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getAlignMatrix()/#returns--matrix2d)
- [Details](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getAlignMatrix()/#details)
- [What's a Matrix2D?](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getAlignMatrix()/#whats-a-matrix2d)
- [Sample code](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getAlignMatrix()/#sample-code)
- [Demo](https://gsap.com/docs/v3/Plugins/MotionPathPlugin/static.getAlignMatrix()/#demo)

## [GSAP](https://gsap.com/)

- [Core](https://gsap.com/core/)
- [Docs](https://gsap.com/docs/v3)
- [All Plugins](https://gsap.com/docs/v3/Plugins/)

## [Scroll](https://gsap.com/scroll/)

- [ScrollTrigger](https://gsap.com/docs/v3/Plugins/ScrollTrigger)
- [ScrollSmoother](https://gsap.com/docs/v3/Plugins/ScrollSmoother)
- [ScrollTo](https://gsap.com/docs/v3/Plugins/ScrollToPlugin)
- [Observer](https://gsap.com/docs/v3/Plugins/Observer)

## [SVG](https://gsap.com/svg/)

- [MorphSVG](https://gsap.com/docs/v3/Plugins/MorphSVGPlugin)
- [DrawSVG](https://gsap.com/docs/v3/Plugins/DrawSVGPlugin)
- [MotionPath](https://gsap.com/docs/v3/Plugins/MotionPathPlugin)
- [MotionPathHelper](https://gsap.com/docs/v3/Plugins/MotionPathHelper)

## [UI](https://gsap.com/ui/)

- [Flip](https://gsap.com/docs/v3/Plugins/Flip)
- [SplitText](https://gsap.com/docs/v3/Plugins/SplitText)
- [Draggable](https://gsap.com/docs/v3/Plugins/Draggable)
- [Inertia](https://gsap.com/docs/v3/Plugins/InertiaPlugin)
- [Observer](https://gsap.com/docs/v3/Plugins/Observer)

## [Text](https://gsap.com/text/)

- [SplitText](https://gsap.com/docs/v3/Plugins/SplitText)
- [ScrambleText](https://gsap.com/docs/v3/Plugins/ScrambleTextPlugin)
- [Text](https://gsap.com/docs/v3/Plugins/TextPlugin)

Subscribe to the GSAP® newsletter to stay up-to-date with the latest releases

Email \*

## Company

- [About](https://gsap.com/about/)
- [Blog](https://gsap.com/blog/)
- [Contact Us](https://gsap.com/community/contact/)

## GSAP

- [Pricing](https://gsap.com/pricing/)
- [Showcase](https://gsap.com/showcase/)
- [Learn GSAP](https://gsap.com/resources/)
- [Community](https://gsap.com/community/)

## Connect

- [Codepen](https://www.codepen.io/GreenSock)
- [GitHub](https://github.com/greensock/GreenSock-JS)
- [Facebook](https://www.facebook.com/greensock)
- [LinkedIn](https://www.linkedin.com/company/greensock)
- [X](https://www.twitter.com/greensock)

©2025 GSAP - A Webflow Product. All rights reserved.

- [Privacy Policy.](https://gsap.com/community/privacy-policy/)
- [Terms of Use.](https://gsap.com/community/terms-of-use/)