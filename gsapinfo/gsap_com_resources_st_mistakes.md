[GSAPGSAP](https://gsap.com/) Menu

- Tools




- [Core](https://gsap.com/core/)
- [Scroll](https://gsap.com/scroll/)
- [SVG](https://gsap.com/svg/)
- [UI](https://gsap.com/ui/)
- [Text](https://gsap.com/text/)

- [Installation](https://gsap.com/docs/v3/Installation)
- [Starter Templates](https://gsap.com/demos)
- [GSAP & React](https://gsap.com/resources/React)
- [Video Lessons](https://www.youtube.com/@GreenSockLearning)

Professional-grade JavaScript animation for the modern web

![](https://gsap.com/img/header-shapes.png)

- [Pricing](https://gsap.com/pricing/)
- [Showcase](https://gsap.com/showcase/)
- [Community](https://gsap.com/community/)
- [Learn GSAP](https://gsap.com/resources/)
- [Docs](https://gsap.com/docs/v3)

- Notifications






#### Notifications



[Notification Settings](https://gsap.com/community/notifications/options) [View All](https://gsap.com/community/notifications/)

- Messages






#### Messages



[Compose new](https://gsap.com/community/messenger/compose) [Go to Inbox](https://gsap.com/community/messenger)

- Login/Create Account




#### Sign In







Login [Forgot your password?](https://gsap.com/community/lostpassword/)





#### Why create an account?



- It's free

- Participate in the forums

- Updates on the products you use

- Exclusive offers and more


[Create an Account](https://gsap.com/community/register)

- [My Account](https://gsap.com/community/account-dashboard)








![Guest](https://gsap.com/community/uploads/set_resources_8/84c1e40ea0e759e3f1505eb1788ddf3c_default_photo.png)





Guest







Guests







- [Dashboard](https://gsap.com/community/account-dashboard)
- [Orders & Billing](https://gsap.com/community/clients/orders)
- [Account Settings](https://gsap.com/community/settings)
- [Logout](https://gsap.com/community/logout/?csrfKey=3589cf17001ee17731c7c2caf2cec5d5)

- [Get GSAP](https://gsap.com/docs/v3/Installation)

- Tools
  - [Core](https://gsap.com/core/)
  - [Scroll](https://gsap.com/scroll/)
  - [SVG](https://gsap.com/svg/)
  - [UI](https://gsap.com/ui/)
  - [Text](https://gsap.com/text/)
- [Pricing](https://gsap.com/pricing/)
- [Showcase](https://gsap.com/showcase/)
- [Community](https://gsap.com/community/)
- [Learn GSAP](https://gsap.com/resources/)
- [Docs](https://gsap.com/docs/v3/)

- Login/Create Account
- ![Guest](https://gsap.com/community/uploads/set_resources_8/84c1e40ea0e759e3f1505eb1788ddf3c_default_photo.png)





Guest







Guests


![Guest](https://gsap.com/community/uploads/set_resources_8/84c1e40ea0e759e3f1505eb1788ddf3c_default_photo.png)

Guest

Guests

- [Dashboard](https://gsap.com/community/account-dashboard)
- [Orders & Billing](https://gsap.com/community/clients/orders)
- [Account Settings](https://gsap.com/community/settings)
- [Logout](https://gsap.com/community/logout/?csrfKey=3589cf17001ee17731c7c2caf2cec5d5)
- [Messages](https://gsap.com/community/messenger/)
- [Notifications](https://gsap.com/community/notifications/)

#### Sign In

Login [Forgot your password?](https://gsap.com/community/lostpassword/)

#### Not got an account?

[Create an Account](https://gsap.com/community/register)

- [CodePen](https://codepen.io/GreenSock)
- [GitHub](https://github.com/greensock/GreenSock-JS/)
- [Facebook](https://www.facebook.com/greensock/)
- [LinkedIn](https://www.linkedin.com/company/greensock)
- [x](https://www.twitter.com/greensock/)

![](https://gsap.com/img/header-shapes.png)

[Skip to main content](https://gsap.com/resources/st-mistakes/#__docusaurus_skipToContent_fallback)

[Docs](https://gsap.com/docs/v3/) [Learning](https://gsap.com/resources)

[v3.12.7](https://gsap.com/docs/v3/)

- [v3.12.7](https://gsap.com/docs/v3/)
- [v2 - archived](https://www.gsap.com/archived-docs/)

Search`` `K`

- [placeholder](https://gsap.com/resources/)
- Quick Start
- [Installation](https://gsap.com/docs/v3/Installation)
- [YouTube Channel](https://www.youtube.com/@GreenSockLearning)
- [Trial the Club Plugins](https://gsap.com/resources/trial)
- [Demos / Starter Templates](https://gsap.com/demos)
- [Cheatsheet](https://gsap.com/cheatsheet)
- Getting Started
- [Your first animation](https://gsap.com/resources/get-started)
- [Easing](https://gsap.com/resources/getting-started/Easing)
- [Staggers](https://gsap.com/resources/getting-started/Staggers)
- [Sequencing animations](https://gsap.com/resources/getting-started/timelines)
- [Control and Callbacks](https://gsap.com/resources/getting-started/control)
- Plugins
- [What's a plugin?](https://gsap.com/resources/Plugins/)
- [ScrollTrigger tips & mistakes](https://gsap.com/resources/st-mistakes)
- Diving deeper
- [Accessibility](https://gsap.com/resources/a11y)
- [Handling conflicting tweens](https://gsap.com/resources/conflict)
- [Avoiding FOUC](https://gsap.com/resources/fouc)
- [immediateRender](https://gsap.com/resources/immediaterender)
- [Common GSAP mistakes](https://gsap.com/resources/mistakes)
- [The Position Parameter](https://gsap.com/resources/position-parameter)
- [Keyframes](https://gsap.com/resources/keyframes)
- Using GSAP with...
- [JS Frameworks](https://gsap.com/resources/frameworks)
- [React](https://gsap.com/resources/React)

- [SVG](https://gsap.com/resources/svg)
- [Webflow](https://gsap.com/resources/Webflow)
- [Wordpress](https://gsap.com/resources/Wordpress)
- and more...
- [updating to GSAP 3](https://gsap.com/resources/3-migration)

- ScrollTrigger tips & mistakes

On this page

# ScrollTrigger tips & mistakes

Are you guilty of any of the most common mistakes people make in their ScrollTrigger code?

Debugging tip

In many cases, the issue isnt directly related to ScrollTrigger, so it's helpful to get things working _without_ ScrollTrigger/any scroll effects and then, once everything else is working, hook things up to ScrollTrigger.

## Nesting ScrollTriggers inside multiple timeline tweens [​](https://gsap.com/resources/st-mistakes/\#nesting-scrolltriggers-inside-multiple-timeline-tweens "Direct link to Nesting ScrollTriggers inside multiple timeline tweens")

A **very** common mistake is applying ScrollTrigger to multiple tweens that are nested **inside** a timeline. Logic-wise, that can't work. When you nest an animation in a timeline, that means the playhead of the parent timeline is what controls the playhead of the child animations (they all must be synchronized otherwise it wouldn't make any sense). When you add a ScrollTrigger with scrub, you're basically saying _"I want the playhead of this animation to be controlled by the scrollbar position"_...you can't have both. For example, what if the parent timeline is playing **forward** but the user also is scrolling **backwards**? See the problem? It can't go forward and backward at the same time, and you wouldn't want the playhead to get out of sync with the parent timeline's. Or what if the parent timeline is paused but the user is scrolling?

So **definitely** avoid putting ScrollTriggers on nested animations. Instead, either keep those tweens independent (don't nest them in a timeline) -OR- just apply a single ScrollTrigger to the parent timeline itself to hook the entire animation as a whole to the scroll position.

## Creating to() logic issues [​](https://gsap.com/resources/st-mistakes/\#creating-to-logic-issues "Direct link to Creating to() logic issues")

If you want to animate the same properties of the same element in multiple ScrollTriggers, it 's common to create logic issues like this:

```codeBlockLines_p187
gsap.to('h1', {
  x: 100,
  scrollTrigger: {
    trigger: 'h1',
    start: 'top bottom',
    end: 'center center',
    scrub: true
  }
});

gsap.to('h1', {
  x: 200,
  scrollTrigger: {
    trigger: 'h1',
    start: 'center center',
    end: 'bottom top',
    scrub: true
  }
});

```

Did you catch the mistake? You might think that it will animate the x value to 100 and then directly to 200 when the second ScrollTrigger starts. However if you scroll through the page you 'll see that it animates to 100 then jumps _back_ to 0 (the starting x value) then animates to 200. This is because the starting values of ScrollTriggers are cached when the ScrollTrigger is **created**.

#### loading...

CodePen Embed - ScrollTrigger to() logic issue

- [HTML](https://codepen.io/GreenSock/embed/LYNzrxp?default-tab=result&theme-id=41164#html-box)
- [CSS](https://codepen.io/GreenSock/embed/LYNzrxp?default-tab=result&theme-id=41164#css-box)
- [JS](https://codepen.io/GreenSock/embed/LYNzrxp?default-tab=result&theme-id=41164#js-box)

- [Result](https://codepen.io/GreenSock/embed/LYNzrxp?default-tab=result&theme-id=41164#result-box)
- [Skip Results Iframe](https://codepen.io/GreenSock/embed/LYNzrxp?default-tab=result&theme-id=41164#resources-link)

[EDIT ON](https://codepen.io/GreenSock/pen/LYNzrxp "Edit on CodePen")

``` cm-s-default
<h2>Scroll down</h2>
<h1>This will jump</h1>

```

``` cm-s-default
@import url('https://fonts.googleapis.com/css?family=Signika+Negative:300,400&display=swap');

body {
  font-family: "Signika Negative", sans-serif;
  font-weight: 300;
  margin: 0;
  padding: 0 20px;
}

h1, h2 {
  margin-bottom: 100vh;
}
h2 {
  text-align: center;
}

```

``` cm-s-default
gsap.to('h1', {
  x: 100,
  scrollTrigger: {
    trigger: 'h1',
    start: 'top bottom',
    end: 'center center',
    scrub: true
  }
});

gsap.to('h1', {
  x: 200,
  scrollTrigger: {
    trigger: 'h1',
    start: 'center center',
    end: 'bottom top',
    scrub: true
  }
});

```

ScrollTrigger to() logic issue

## Scroll down

# This will jump

[![](https://assets.codepen.io/16327/internal/avatars/users/default.png?fit=crop&format=auto&height=256&version=1697554632&width=256)](https://codepen.io/GreenSock)

This Pen is owned by [GSAP](https://codepen.io/GreenSock) on [CodePen](https://codepen.io/).



[See more by @GreenSock on CodePen](https://codepen.io/GreenSock)

### External CSS

This Pen doesn't use any external CSS resources.


### External JavaScript

01. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js)
02. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/CSSRulePlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/CSSRulePlugin.min.js)
03. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomBounce3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomBounce3.min.js)
04. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomEase3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomEase3.min.js)
05. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomWiggle3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomWiggle3.min.js)
06. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/DrawSVGPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/DrawSVGPlugin3.min.js)
07. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/Draggable.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/Draggable.min.js)
08. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EaselPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EaselPlugin.min.js)
09. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EasePack.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EasePack.min.js)
10. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/GSDevTools3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/GSDevTools3.min.js)
11. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/InertiaPlugin.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/InertiaPlugin.min.js)
12. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MorphSVGPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MorphSVGPlugin3.min.js)
13. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MotionPathHelper.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MotionPathHelper.min.js)
14. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/MotionPathPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/MotionPathPlugin.min.js)
15. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/Physics2DPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/Physics2DPlugin3.min.js)
16. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/PhysicsPropsPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/PhysicsPropsPlugin3.min.js)
17. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/PixiPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/PixiPlugin.min.js)
18. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/ScrambleTextPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/ScrambleTextPlugin3.min.js)
19. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollToPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollToPlugin.min.js)
20. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollTrigger.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollTrigger.min.js)
21. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/SplitText3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/SplitText3.min.js)
22. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/TextPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/TextPlugin.min.js)

Resources


- 1×
- 0.5×
- 0.25×

Rerun

To work around this either use set `immediateRender: false` (like [this demo](https://codepen.io/GreenSock/pen/KKzoVGd?editors=0010) shows) or use .fromTo()s for the later tweens (like [this demo](https://codepen.io/GreenSock/pen/LYNzrXb) shows) or set a ScrollTrigger on a timeline and put the tweens in that timelines instead (like [this demo](https://codepen.io/GreenSock/pen/jOqGKXJ) shows).

## Using one ScrollTrigger or animation for multiple "sections" [​](https://gsap.com/resources/st-mistakes/\#using-one-scrolltrigger-or-animation-for-multiple-sections "Direct link to Using one ScrollTrigger or animation for multiple \"sections\"")

If you want to apply the same effect to multiple sections/elements so that they animate when they come into view, for example, it's common for people to try to use a single tween which targets all the elements but that ends up animating them all at once. For example:

#### loading...

CodePen Embed - ScrollTrigger generic target issue

- [HTML](https://codepen.io/GreenSock/embed/Yzqrjwe?default-tab=result&theme-id=41164#html-box)
- [CSS](https://codepen.io/GreenSock/embed/Yzqrjwe?default-tab=result&theme-id=41164#css-box)
- [JS](https://codepen.io/GreenSock/embed/Yzqrjwe?default-tab=result&theme-id=41164#js-box)

- [Result](https://codepen.io/GreenSock/embed/Yzqrjwe?default-tab=result&theme-id=41164#result-box)
- [Skip Results Iframe](https://codepen.io/GreenSock/embed/Yzqrjwe?default-tab=result&theme-id=41164#resources-link)

[EDIT ON](https://codepen.io/GreenSock/pen/Yzqrjwe "Edit on CodePen")

``` cm-s-default
<h2>Scroll down</h2>

<div class="box"></div>

<div class="box"></div>

<div class="box"></div>

```

``` cm-s-default
@import url('https://fonts.googleapis.com/css?family=Signika+Negative:300,400&display=swap');

body {
  font-family: "Signika Negative", sans-serif;
  font-weight: 300;
  margin: 0;
  padding: 0 20px;
}

h2, .box {
  margin-bottom: 100vh;
}
h2 {
  text-align: center;
}

.box {
  background-color: green;
  width: 100px;
  height: 100px;
}

```

``` cm-s-default
const boxes = gsap.utils.toArray('.box');
boxes.forEach(box => {
  gsap.to('.box', { // this will animate ALL boxes
    x: 300,
    scrollTrigger: {
      trigger: '.box',  // this will use the first box as the trigger
      scrub: true
    }
  })
});

```

ScrollTrigger generic target issue

## Scroll down

[![](https://assets.codepen.io/16327/internal/avatars/users/default.png?fit=crop&format=auto&height=256&version=1697554632&width=256)](https://codepen.io/GreenSock)

This Pen is owned by [GSAP](https://codepen.io/GreenSock) on [CodePen](https://codepen.io/).



[See more by @GreenSock on CodePen](https://codepen.io/GreenSock)

### External CSS

This Pen doesn't use any external CSS resources.


### External JavaScript

01. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js)
02. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/CSSRulePlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/CSSRulePlugin.min.js)
03. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomBounce3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomBounce3.min.js)
04. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomEase3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomEase3.min.js)
05. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomWiggle3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomWiggle3.min.js)
06. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/DrawSVGPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/DrawSVGPlugin3.min.js)
07. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/Draggable.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/Draggable.min.js)
08. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EaselPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EaselPlugin.min.js)
09. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EasePack.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EasePack.min.js)
10. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/GSDevTools3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/GSDevTools3.min.js)
11. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/InertiaPlugin.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/InertiaPlugin.min.js)
12. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MorphSVGPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MorphSVGPlugin3.min.js)
13. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MotionPathHelper.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MotionPathHelper.min.js)
14. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/MotionPathPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/MotionPathPlugin.min.js)
15. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/Physics2DPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/Physics2DPlugin3.min.js)
16. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/PhysicsPropsPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/PhysicsPropsPlugin3.min.js)
17. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/PixiPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/PixiPlugin.min.js)
18. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/ScrambleTextPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/ScrambleTextPlugin3.min.js)
19. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollToPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollToPlugin.min.js)
20. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollTrigger.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollTrigger.min.js)
21. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/SplitText3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/SplitText3.min.js)
22. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/TextPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/TextPlugin.min.js)

Resources


- 1×
- 0.5×
- 0.25×

Rerun

Since each of the elements would get triggered at a different scroll position, and of course their animations would be distinct, just do a simple loop instead, like this:

#### loading...

CodePen Embed - ScrollTrigger generic target issue - fixed with scoping

- [HTML](https://codepen.io/GreenSock/embed/QWNqBvL?default-tab=result&theme-id=41164#html-box)
- [CSS](https://codepen.io/GreenSock/embed/QWNqBvL?default-tab=result&theme-id=41164#css-box)
- [JS](https://codepen.io/GreenSock/embed/QWNqBvL?default-tab=result&theme-id=41164#js-box)

- [Result](https://codepen.io/GreenSock/embed/QWNqBvL?default-tab=result&theme-id=41164#result-box)
- [Skip Results Iframe](https://codepen.io/GreenSock/embed/QWNqBvL?default-tab=result&theme-id=41164#resources-link)

[EDIT ON](https://codepen.io/GreenSock/pen/QWNqBvL "Edit on CodePen")

``` cm-s-default
<h2>Scroll down</h2>

<div class="box"></div>

<div class="box"></div>

<div class="box"></div>

```

``` cm-s-default
@import url('https://fonts.googleapis.com/css?family=Signika+Negative:300,400&display=swap');

body {
  font-family: "Signika Negative", sans-serif;
  font-weight: 300;
  margin: 0;
  padding: 0 20px;
}

h2, .box {
  margin-bottom: 100vh;
}
h2 {
  text-align: center;
}

.box {
  background-color: green;
  width: 100px;
  height: 100px;
}

```

``` cm-s-default
const boxes = gsap.utils.toArray('.box');
boxes.forEach(box => {
  gsap.to(box, {
    x: 300,
    scrollTrigger: {
      trigger: box,
      scrub: true
    }
  })
});

```

ScrollTrigger generic target issue - fixed with scoping

## Scroll down

[![](https://assets.codepen.io/16327/internal/avatars/users/default.png?fit=crop&format=auto&height=256&version=1697554632&width=256)](https://codepen.io/GreenSock)

This Pen is owned by [GSAP](https://codepen.io/GreenSock) on [CodePen](https://codepen.io/).



[See more by @GreenSock on CodePen](https://codepen.io/GreenSock)

### External CSS

This Pen doesn't use any external CSS resources.


### External JavaScript

01. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js)
02. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/CSSRulePlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/CSSRulePlugin.min.js)
03. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomBounce3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomBounce3.min.js)
04. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomEase3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomEase3.min.js)
05. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomWiggle3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomWiggle3.min.js)
06. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/DrawSVGPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/DrawSVGPlugin3.min.js)
07. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/Draggable.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/Draggable.min.js)
08. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EaselPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EaselPlugin.min.js)
09. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EasePack.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EasePack.min.js)
10. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/GSDevTools3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/GSDevTools3.min.js)
11. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/InertiaPlugin.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/InertiaPlugin.min.js)
12. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MorphSVGPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MorphSVGPlugin3.min.js)
13. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MotionPathHelper.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MotionPathHelper.min.js)
14. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/MotionPathPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/MotionPathPlugin.min.js)
15. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/Physics2DPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/Physics2DPlugin3.min.js)
16. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/PhysicsPropsPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/PhysicsPropsPlugin3.min.js)
17. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/PixiPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/PixiPlugin.min.js)
18. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/ScrambleTextPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/ScrambleTextPlugin3.min.js)
19. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollToPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollToPlugin.min.js)
20. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollTrigger.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollTrigger.min.js)
21. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/SplitText3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/SplitText3.min.js)
22. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/TextPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/TextPlugin.min.js)

Resources


- 1×
- 0.5×
- 0.25×

Rerun

## Forgetting to use function-based start/end values for things that are dependent on viewport sizing [​](https://gsap.com/resources/st-mistakes/\#forgetting-to-use-function-based-startend-values-for-things-that-are-dependent-on-viewport-sizing "Direct link to Forgetting to use function-based start/end values for things that are dependent on viewport sizing")

For example, let's say you've got a start or end value that references the height of an element which may change if/when the viewport resizes. ScrollTrigger will refresh() automatically when the viewport resizes, but if you hard-coded your value when the ScrollTrigger was created that won't get updated...unless you use a function-based value.

```codeBlockLines_p187
end: `+=${elem.offsetHeight}` // won't be updated on refresh

end: () => `+=${elem.offsetHeight}` // will be updated

```

Additionally, if you want the _animation_ values to update, make sure the ones you want to update are function-based values and set `invalidateOnRefresh: true` in the ScrollTrigger.

## Start animation mid-viewport, but reset it offscreen [​](https://gsap.com/resources/st-mistakes/\#start-animation-mid-viewport-but-reset-it-offscreen "Direct link to Start animation mid-viewport, but reset it offscreen")

For example try scrolling down then back up in this demo:

#### loading...

CodePen Embed - ScrollTrigger reset issue

- [HTML](https://codepen.io/GreenSock/embed/BaKwPre?default-tab=result&theme-id=41164#html-box)
- [CSS](https://codepen.io/GreenSock/embed/BaKwPre?default-tab=result&theme-id=41164#css-box)
- [JS](https://codepen.io/GreenSock/embed/BaKwPre?default-tab=result&theme-id=41164#js-box)

- [Result](https://codepen.io/GreenSock/embed/BaKwPre?default-tab=result&theme-id=41164#result-box)
- [Skip Results Iframe](https://codepen.io/GreenSock/embed/BaKwPre?default-tab=result&theme-id=41164#resources-link)

[EDIT ON](https://codepen.io/GreenSock/pen/BaKwPre "Edit on CodePen")

``` cm-s-default
<h2>Scroll down</h2>

<div class="box"></div>

<div class="box"></div>

<div class="box"></div>

```

``` cm-s-default
@import url('https://fonts.googleapis.com/css?family=Signika+Negative:300,400&display=swap');

body {
  font-family: "Signika Negative", sans-serif;
  font-weight: 300;
  margin: 0;
  padding: 0 20px;
}

h2, .box {
  margin-bottom: 100vh;
}
h2 {
  text-align: center;
}

.box {
  background-color: green;
  width: 100px;
  height: 100px;
}

```

``` cm-s-default
const boxes = gsap.utils.toArray('.box');
boxes.forEach(box => {
  gsap.to(box, {
    x: 300,
    scrollTrigger: {
      trigger: box,
      start: "center 70%",
      toggleActions: "play none none reset"
    }
  })
});

```

ScrollTrigger reset issue

## Scroll down

[![](https://assets.codepen.io/16327/internal/avatars/users/default.png?fit=crop&format=auto&height=256&version=1697554632&width=256)](https://codepen.io/GreenSock)

This Pen is owned by [GSAP](https://codepen.io/GreenSock) on [CodePen](https://codepen.io/).



[See more by @GreenSock on CodePen](https://codepen.io/GreenSock)

### External CSS

This Pen doesn't use any external CSS resources.


### External JavaScript

01. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js)
02. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/CSSRulePlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/CSSRulePlugin.min.js)
03. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomBounce3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomBounce3.min.js)
04. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomEase3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomEase3.min.js)
05. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomWiggle3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomWiggle3.min.js)
06. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/DrawSVGPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/DrawSVGPlugin3.min.js)
07. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/Draggable.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/Draggable.min.js)
08. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EaselPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EaselPlugin.min.js)
09. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EasePack.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EasePack.min.js)
10. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/GSDevTools3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/GSDevTools3.min.js)
11. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/InertiaPlugin.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/InertiaPlugin.min.js)
12. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MorphSVGPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MorphSVGPlugin3.min.js)
13. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MotionPathHelper.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MotionPathHelper.min.js)
14. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/MotionPathPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/MotionPathPlugin.min.js)
15. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/Physics2DPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/Physics2DPlugin3.min.js)
16. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/PhysicsPropsPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/PhysicsPropsPlugin3.min.js)
17. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/PixiPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/PixiPlugin.min.js)
18. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/ScrambleTextPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/ScrambleTextPlugin3.min.js)
19. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollToPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollToPlugin.min.js)
20. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollTrigger.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollTrigger.min.js)
21. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/SplitText3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/SplitText3.min.js)
22. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/TextPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/TextPlugin.min.js)

Resources


- 1×
- 0.5×
- 0.25×

Rerun

Notice that we want the animation to start mid-screen, but when scrolling backwards we want it to reset at a completely different place (when the element goes offscreen). The solution is to use two ScrollTriggers - one for the playing and one for the resetting once the element is off screen.

#### loading...

CodePen Embed - ScrollTrigger reset issue - fixed with two ScrollTriggers

- [HTML](https://codepen.io/GreenSock/embed/XWdeBYR?default-tab=result&theme-id=41164#html-box)
- [CSS](https://codepen.io/GreenSock/embed/XWdeBYR?default-tab=result&theme-id=41164#css-box)
- [JS](https://codepen.io/GreenSock/embed/XWdeBYR?default-tab=result&theme-id=41164#js-box)

- [Result](https://codepen.io/GreenSock/embed/XWdeBYR?default-tab=result&theme-id=41164#result-box)
- [Skip Results Iframe](https://codepen.io/GreenSock/embed/XWdeBYR?default-tab=result&theme-id=41164#resources-link)

[EDIT ON](https://codepen.io/GreenSock/pen/XWdeBYR "Edit on CodePen")

``` cm-s-default
<h2>Scroll down</h2>

<div class="box"></div>

<div class="box"></div>

<div class="box"></div>

```

``` cm-s-default
@import url('https://fonts.googleapis.com/css?family=Signika+Negative:300,400&display=swap');

body {
  font-family: "Signika Negative", sans-serif;
  font-weight: 300;
  margin: 0;
  padding: 0 20px;
}

h2, .box {
  margin-bottom: 100vh;
}
h2 {
  text-align: center;
}

.box {
  background-color: green;
  width: 100px;
  height: 100px;
}

```

``` cm-s-default
const boxes = gsap.utils.toArray('.box');
boxes.forEach(box => {
  const anim = gsap.to(box, { x: 300, paused: true });

  ScrollTrigger.create({
    trigger: box,
    start: "center 70%",
    onEnter: () => anim.play()
  });

  ScrollTrigger.create({
    trigger: box,
    start: "top bottom",
    onLeaveBack: () => anim.pause(0)
  });
});

```

ScrollTrigger reset issue - fixed with two ScrollTriggers

## Scroll down

[![](https://assets.codepen.io/16327/internal/avatars/users/default.png?fit=crop&format=auto&height=256&version=1697554632&width=256)](https://codepen.io/GreenSock)

This Pen is owned by [GSAP](https://codepen.io/GreenSock) on [CodePen](https://codepen.io/).



[See more by @GreenSock on CodePen](https://codepen.io/GreenSock)

### External CSS

This Pen doesn't use any external CSS resources.


### External JavaScript

01. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js)
02. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/CSSRulePlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/CSSRulePlugin.min.js)
03. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomBounce3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomBounce3.min.js)
04. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomEase3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomEase3.min.js)
05. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomWiggle3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomWiggle3.min.js)
06. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/DrawSVGPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/DrawSVGPlugin3.min.js)
07. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/Draggable.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/Draggable.min.js)
08. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EaselPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EaselPlugin.min.js)
09. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EasePack.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EasePack.min.js)
10. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/GSDevTools3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/GSDevTools3.min.js)
11. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/InertiaPlugin.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/InertiaPlugin.min.js)
12. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MorphSVGPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MorphSVGPlugin3.min.js)
13. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MotionPathHelper.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MotionPathHelper.min.js)
14. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/MotionPathPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/MotionPathPlugin.min.js)
15. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/Physics2DPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/Physics2DPlugin3.min.js)
16. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/PhysicsPropsPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/PhysicsPropsPlugin3.min.js)
17. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/PixiPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/PixiPlugin.min.js)
18. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/ScrambleTextPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/ScrambleTextPlugin3.min.js)
19. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollToPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollToPlugin.min.js)
20. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollTrigger.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollTrigger.min.js)
21. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/SplitText3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/SplitText3.min.js)
22. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/TextPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/TextPlugin.min.js)

Resources


- 1×
- 0.5×
- 0.25×

Rerun

## Creating ScrollTriggers out of order [​](https://gsap.com/resources/st-mistakes/\#creating-scrolltriggers-out-of-order "Direct link to Creating ScrollTriggers out of order")

If you have any ScrollTriggers that pin elements (with the default pinSpacing: true) then the order in which the ScrollTriggers are created is important. This is because any ScrollTriggers _after_ the ScrollTrigger with pinning need to compensate for the extra distance that the pinning adds. You can see an example of how this sort of thing might happen in the pen below. Notice that the third box's animation runs before it's actually in the viewport.

#### loading...

CodePen Embed - ScrollTrigger creation order issue

- [HTML](https://codepen.io/GreenSock/embed/bGebzaK?default-tab=result&theme-id=41164#html-box)
- [CSS](https://codepen.io/GreenSock/embed/bGebzaK?default-tab=result&theme-id=41164#css-box)
- [JS](https://codepen.io/GreenSock/embed/bGebzaK?default-tab=result&theme-id=41164#js-box)

- [Result](https://codepen.io/GreenSock/embed/bGebzaK?default-tab=result&theme-id=41164#result-box)
- [Skip Results Iframe](https://codepen.io/GreenSock/embed/bGebzaK?default-tab=result&theme-id=41164#resources-link)

[EDIT ON](https://codepen.io/GreenSock/pen/bGebzaK "Edit on CodePen")

``` cm-s-default
<h2>Scroll down</h2>

<div class="box played"></div>

<div class="box scrubbed"></div>

<div class="box played"></div>

```

``` cm-s-default
@import url('https://fonts.googleapis.com/css?family=Signika+Negative:300,400&display=swap');

body {
  font-family: "Signika Negative", sans-serif;
  font-weight: 300;
  margin: 0;
  padding: 0 20px;
}

h2, .box {
  margin-bottom: 100vh;
}
h2 {
  text-align: center;
}

.box {
  background-color: green;
  width: 100px;
  height: 100px;
}

```

``` cm-s-default
const played = gsap.utils.toArray('.played');
played.forEach(box => {
  gsap.to(box, {
    x: 300,
    scrollTrigger: {
      trigger: box,
      toggleActions: "play none none reset"
    }
  });
});

const scrubbed = gsap.utils.toArray('.scrubbed');
scrubbed.forEach(box => {
  gsap.to(box, {
    x: 300,
    scrollTrigger: {
      trigger: box,
      scrub: true,
      pin: true,
    }
  });
});

```

ScrollTrigger creation order issue

## Scroll down

[![](https://assets.codepen.io/16327/internal/avatars/users/default.png?fit=crop&format=auto&height=256&version=1697554632&width=256)](https://codepen.io/GreenSock)

This Pen is owned by [GSAP](https://codepen.io/GreenSock) on [CodePen](https://codepen.io/).



[See more by @GreenSock on CodePen](https://codepen.io/GreenSock)

### External CSS

This Pen doesn't use any external CSS resources.


### External JavaScript

01. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js)
02. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/CSSRulePlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/CSSRulePlugin.min.js)
03. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomBounce3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomBounce3.min.js)
04. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomEase3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomEase3.min.js)
05. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomWiggle3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomWiggle3.min.js)
06. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/DrawSVGPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/DrawSVGPlugin3.min.js)
07. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/Draggable.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/Draggable.min.js)
08. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EaselPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EaselPlugin.min.js)
09. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EasePack.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EasePack.min.js)
10. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/GSDevTools3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/GSDevTools3.min.js)
11. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/InertiaPlugin.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/InertiaPlugin.min.js)
12. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MorphSVGPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MorphSVGPlugin3.min.js)
13. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MotionPathHelper.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MotionPathHelper.min.js)
14. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/MotionPathPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/MotionPathPlugin.min.js)
15. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/Physics2DPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/Physics2DPlugin3.min.js)
16. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/PhysicsPropsPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/PhysicsPropsPlugin3.min.js)
17. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/PixiPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/PixiPlugin.min.js)
18. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/ScrambleTextPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/ScrambleTextPlugin3.min.js)
19. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollToPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollToPlugin.min.js)
20. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollTrigger.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollTrigger.min.js)
21. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/SplitText3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/SplitText3.min.js)
22. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/TextPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/TextPlugin.min.js)

Resources


- 1×
- 0.5×
- 0.25×

Rerun

To fix this you can either create the ScrollTriggers in the order in which they are reached when scrolling or use ScrollTrigger's `refreshPriority` property to tell certain ScrollTriggers to calculate their positions sooner (the higher the `refreshPriority` the sooner the positions will be calculated). The demo below creates the ScrollTriggers in their proper order.

#### loading...

CodePen Embed - ScrollTrigger creation order issue - fixed

- [HTML](https://codepen.io/GreenSock/embed/wvWwNxX?default-tab=result&theme-id=41164#html-box)
- [CSS](https://codepen.io/GreenSock/embed/wvWwNxX?default-tab=result&theme-id=41164#css-box)
- [JS](https://codepen.io/GreenSock/embed/wvWwNxX?default-tab=result&theme-id=41164#js-box)

- [Result](https://codepen.io/GreenSock/embed/wvWwNxX?default-tab=result&theme-id=41164#result-box)
- [Skip Results Iframe](https://codepen.io/GreenSock/embed/wvWwNxX?default-tab=result&theme-id=41164#resources-link)

[EDIT ON](https://codepen.io/GreenSock/pen/wvWwNxX "Edit on CodePen")

``` cm-s-default
<h2>Scroll down</h2>

<div class="box played"></div>

<div class="box scrubbed"></div>

<div class="box played"></div>

```

``` cm-s-default
@import url('https://fonts.googleapis.com/css?family=Signika+Negative:300,400&display=swap');

body {
  font-family: "Signika Negative", sans-serif;
  font-weight: 300;
  margin: 0;
  padding: 0 20px;
}

h2, .box {
  margin-bottom: 100vh;
}
h2 {
  text-align: center;
}

.box {
  background-color: green;
  width: 100px;
  height: 100px;
}

```

``` cm-s-default
// Create all the ScrollTriggers that are BEFORE the pinned sections
const played = gsap.utils.toArray('.played');
gsap.to(played[0], {
  x: 300,
  scrollTrigger: {
    trigger: played[0],
    toggleActions: "play none none reset"
  }
});

// The pinned sections
const scrubbed = gsap.utils.toArray('.scrubbed');
scrubbed.forEach(box => {
  gsap.to(box, {
    x: 300,
    scrollTrigger: {
      trigger: box,
      scrub: true,
      pin: true,
    }
  });
});

// Create all the ScrollTriggers that are AFTER the pinned sections
gsap.to(played[1], {
  x: 300,
  scrollTrigger: {
    trigger: played[1],
    toggleActions: "play none none reset"
  }
});

```

ScrollTrigger creation order issue - fixed

## Scroll down

[![](https://assets.codepen.io/16327/internal/avatars/users/default.png?fit=crop&format=auto&height=256&version=1697554632&width=256)](https://codepen.io/GreenSock)

This Pen is owned by [GSAP](https://codepen.io/GreenSock) on [CodePen](https://codepen.io/).



[See more by @GreenSock on CodePen](https://codepen.io/GreenSock)

### External CSS

This Pen doesn't use any external CSS resources.


### External JavaScript

01. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/gsap.min.js)
02. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/CSSRulePlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/CSSRulePlugin.min.js)
03. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomBounce3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomBounce3.min.js)
04. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomEase3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomEase3.min.js)
05. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomWiggle3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/CustomWiggle3.min.js)
06. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/DrawSVGPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/DrawSVGPlugin3.min.js)
07. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/Draggable.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/Draggable.min.js)
08. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EaselPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EaselPlugin.min.js)
09. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EasePack.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/EasePack.min.js)
10. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/GSDevTools3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/GSDevTools3.min.js)
11. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/InertiaPlugin.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/InertiaPlugin.min.js)
12. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MorphSVGPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MorphSVGPlugin3.min.js)
13. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MotionPathHelper.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/MotionPathHelper.min.js)
14. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/MotionPathPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/MotionPathPlugin.min.js)
15. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/Physics2DPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/Physics2DPlugin3.min.js)
16. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/PhysicsPropsPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/PhysicsPropsPlugin3.min.js)
17. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/PixiPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/PixiPlugin.min.js)
18. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/ScrambleTextPlugin3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/ScrambleTextPlugin3.min.js)
19. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollToPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollToPlugin.min.js)
20. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollTrigger.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/ScrollTrigger.min.js)
21. [https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/SplitText3.min.js](https://s3-us-west-2.amazonaws.com/s.cdpn.io/16327/SplitText3.min.js)
22. [https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/TextPlugin.min.js](https://cdnjs.cloudflare.com/ajax/libs/gsap/3.5.1/TextPlugin.min.js)

Resources


- 1×
- 0.5×
- 0.25×

Rerun

## Loading new content but not refreshing [​](https://gsap.com/resources/st-mistakes/\#loading-new-content-but-not-refreshing "Direct link to Loading new content but not refreshing")

All ScrollTriggers get setup as soon as it's reasonably safe to do so, usually once all content is loaded. However if you're loading images that don't have a width or height attribute correctly set or you are loading content dynamically (via AJAX/fetch/etc.) and that content affects the layout of the page you usually need to refresh ScrollTrigger so it updates the positions of the ScrollTriggers. You can do that easily by calling `ScrollTrigger.refresh()` in the callback for your method that is loading the image or new content.

## Why does my "scrub" animation jump on initial load? [​](https://gsap.com/resources/st-mistakes/\#why-does-my-scrub-animation-jump-on-initial-load "Direct link to Why does my \"scrub\" animation jump on initial load?")

Most likely the ScrollTrigger 's start value is **before** the starting scroll position. This usually happens when the start is something like `"top bottom"` (the default start value) and the element is at the very top of the page. If you don 't want this to happen simply adjust the `start` value to one that 's after a scroll position of 0.

## How to make "scrub" animations take longer [​](https://gsap.com/resources/st-mistakes/\#how-to-make-scrub-animations-take-longer "Direct link to How to make \"scrub\" animations take longer")

How to make "scrub" animations take longer

The duration of a "scrub" animation will always be forced to fit exactly between the `start` and `end` of the ScrollTrigger position, so increasing the `duration` value won't do anything if the `start` and `end` of the ScrollTrigger stay the same. To make the animation longer, just push the end value down further. For example, instead of end: `"+=300"`, make it `"+=600"` and the animation will take twice as long.

Check out the docs for [more info and a demo](https://gsap.com/docs/v3/Plugins/ScrollTrigger/#how-does-duration-work-with-scrub-true).

## Navigating back to a page causes ScrollTrigger to break [​](https://gsap.com/resources/st-mistakes/\#navigating-back-to-a-page-causes-scrolltrigger-to-break "Direct link to Navigating back to a page causes ScrollTrigger to break")

If you have a single-page application (SPA; i.e. a framework such as React or Vue, a page-transition library like Highway.js, Swup, or Barba.js, or something similar) and you use ScrollTrigger you might run into some issues when you navigate back to a page that you've visited already. Usually this is because SPAs don't automatically destroy and re-create your ScrollTriggers so you need to do that yourself when navigating between pages or components.

To do that, you should kill off any relevant ScrollTriggers in whatever tool you're using's unmount or equivalent callback. Then make sure to re-create any necessary ScrollTriggers in the new component/page's mount or equivalent callback. In some cases when the targets and such still exist but the measurements are incorrect you might just need to call `ScrollTrigger.refresh()`. If you need help in your particular situation, please make [a minimal demo](https://gsap.com/community/topic/9002-read-this-first-how-to-create-a-codepen-demo/) and then create [a new thread](https://gsap.com/community/forum/11-gsap/?auth=1&do=add) in our forums along with the demo and an explanation of what's going wrong.

[Previous\\
\\
What's a plugin?](https://gsap.com/resources/Plugins/) [Next\\
\\
Common GSAP mistakes](https://gsap.com/resources/mistakes)

## Contents

- [Nesting ScrollTriggers inside multiple timeline tweens](https://gsap.com/resources/st-mistakes/#nesting-scrolltriggers-inside-multiple-timeline-tweens)
- [Creating to() logic issues](https://gsap.com/resources/st-mistakes/#creating-to-logic-issues)
- [Using one ScrollTrigger or animation for multiple "sections"](https://gsap.com/resources/st-mistakes/#using-one-scrolltrigger-or-animation-for-multiple-sections)
- [Forgetting to use function-based start/end values for things that are dependent on viewport sizing](https://gsap.com/resources/st-mistakes/#forgetting-to-use-function-based-startend-values-for-things-that-are-dependent-on-viewport-sizing)
- [Start animation mid-viewport, but reset it offscreen](https://gsap.com/resources/st-mistakes/#start-animation-mid-viewport-but-reset-it-offscreen)
- [Creating ScrollTriggers out of order](https://gsap.com/resources/st-mistakes/#creating-scrolltriggers-out-of-order)
- [Loading new content but not refreshing](https://gsap.com/resources/st-mistakes/#loading-new-content-but-not-refreshing)
- [Why does my "scrub" animation jump on initial load?](https://gsap.com/resources/st-mistakes/#why-does-my-scrub-animation-jump-on-initial-load)
- [How to make "scrub" animations take longer](https://gsap.com/resources/st-mistakes/#how-to-make-scrub-animations-take-longer)
- [Navigating back to a page causes ScrollTrigger to break](https://gsap.com/resources/st-mistakes/#navigating-back-to-a-page-causes-scrolltrigger-to-break)

## [GSAP](https://gsap.com/)

- [Core](https://gsap.com/core/)
- [Docs](https://gsap.com/docs/v3)
- [All Plugins](https://gsap.com/docs/v3/Plugins/)

## [Scroll](https://gsap.com/scroll/)

- [ScrollTrigger](https://gsap.com/docs/v3/Plugins/ScrollTrigger)
- [ScrollSmoother](https://gsap.com/docs/v3/Plugins/ScrollSmoother)
- [ScrollTo](https://gsap.com/docs/v3/Plugins/ScrollToPlugin)
- [Observer](https://gsap.com/docs/v3/Plugins/Observer)

## [SVG](https://gsap.com/svg/)

- [MorphSVG](https://gsap.com/docs/v3/Plugins/MorphSVGPlugin)
- [DrawSVG](https://gsap.com/docs/v3/Plugins/DrawSVGPlugin)
- [MotionPath](https://gsap.com/docs/v3/Plugins/MotionPathPlugin)
- [MotionPathHelper](https://gsap.com/docs/v3/Plugins/MotionPathHelper)

## [UI](https://gsap.com/ui/)

- [Flip](https://gsap.com/docs/v3/Plugins/Flip)
- [SplitText](https://gsap.com/docs/v3/Plugins/SplitText)
- [Draggable](https://gsap.com/docs/v3/Plugins/Draggable)
- [Inertia](https://gsap.com/docs/v3/Plugins/InertiaPlugin)
- [Observer](https://gsap.com/docs/v3/Plugins/Observer)

## [Text](https://gsap.com/text/)

- [SplitText](https://gsap.com/docs/v3/Plugins/SplitText)
- [ScrambleText](https://gsap.com/docs/v3/Plugins/ScrambleTextPlugin)
- [Text](https://gsap.com/docs/v3/Plugins/TextPlugin)

Subscribe to the GSAP® newsletter to stay up-to-date with the latest releases

Email \*

## Company

- [About](https://gsap.com/about/)
- [Blog](https://gsap.com/blog/)
- [Contact Us](https://gsap.com/community/contact/)

## GSAP

- [Pricing](https://gsap.com/pricing/)
- [Showcase](https://gsap.com/showcase/)
- [Learn GSAP](https://gsap.com/resources/)
- [Community](https://gsap.com/community/)

## Connect

- [Codepen](https://www.codepen.io/GreenSock)
- [GitHub](https://github.com/greensock/GreenSock-JS)
- [Facebook](https://www.facebook.com/greensock)
- [LinkedIn](https://www.linkedin.com/company/greensock)
- [X](https://www.twitter.com/greensock)

©2025 GSAP - A Webflow Product. All rights reserved.

- [Privacy Policy.](https://gsap.com/community/privacy-policy/)
- [Terms of Use.](https://gsap.com/community/terms-of-use/)