[GSAPGSAP](https://gsap.com/) Menu

- Tools




- [Core](https://gsap.com/core/)
- [Scroll](https://gsap.com/scroll/)
- [SVG](https://gsap.com/svg/)
- [UI](https://gsap.com/ui/)
- [Text](https://gsap.com/text/)

- [Installation](https://gsap.com/docs/v3/Installation)
- [Starter Templates](https://gsap.com/demos)
- [GSAP & React](https://gsap.com/resources/React)
- [Video Lessons](https://www.youtube.com/@GreenSockLearning)

Professional-grade JavaScript animation for the modern web

![](https://gsap.com/img/header-shapes.png)

- [Pricing](https://gsap.com/pricing/)
- [Showcase](https://gsap.com/showcase/)
- [Community](https://gsap.com/community/)
- [Learn GSAP](https://gsap.com/resources/)
- [Docs](https://gsap.com/docs/v3)

- Notifications






#### Notifications



[Notification Settings](https://gsap.com/community/notifications/options) [View All](https://gsap.com/community/notifications/)

- Messages






#### Messages



[Compose new](https://gsap.com/community/messenger/compose) [Go to Inbox](https://gsap.com/community/messenger)

- Login/Create Account




#### Sign In







Login [Forgot your password?](https://gsap.com/community/lostpassword/)





#### Why create an account?



- It's free

- Participate in the forums

- Updates on the products you use

- Exclusive offers and more


[Create an Account](https://gsap.com/community/register)

- [My Account](https://gsap.com/community/account-dashboard)








![Guest](https://gsap.com/community/uploads/set_resources_8/84c1e40ea0e759e3f1505eb1788ddf3c_default_photo.png)





Guest







Guests







- [Dashboard](https://gsap.com/community/account-dashboard)
- [Orders & Billing](https://gsap.com/community/clients/orders)
- [Account Settings](https://gsap.com/community/settings)
- [Logout](https://gsap.com/community/logout/?csrfKey=d4c958472f76581caaa0ddfff461bb00)

- [Get GSAP](https://gsap.com/docs/v3/Installation)

- Tools
  - [Core](https://gsap.com/core/)
  - [Scroll](https://gsap.com/scroll/)
  - [SVG](https://gsap.com/svg/)
  - [UI](https://gsap.com/ui/)
  - [Text](https://gsap.com/text/)
- [Pricing](https://gsap.com/pricing/)
- [Showcase](https://gsap.com/showcase/)
- [Community](https://gsap.com/community/)
- [Learn GSAP](https://gsap.com/resources/)
- [Docs](https://gsap.com/docs/v3/)

- Login/Create Account
- ![Guest](https://gsap.com/community/uploads/set_resources_8/84c1e40ea0e759e3f1505eb1788ddf3c_default_photo.png)





Guest







Guests


![Guest](https://gsap.com/community/uploads/set_resources_8/84c1e40ea0e759e3f1505eb1788ddf3c_default_photo.png)

Guest

Guests

- [Dashboard](https://gsap.com/community/account-dashboard)
- [Orders & Billing](https://gsap.com/community/clients/orders)
- [Account Settings](https://gsap.com/community/settings)
- [Logout](https://gsap.com/community/logout/?csrfKey=d4c958472f76581caaa0ddfff461bb00)
- [Messages](https://gsap.com/community/messenger/)
- [Notifications](https://gsap.com/community/notifications/)

#### Sign In

Login [Forgot your password?](https://gsap.com/community/lostpassword/)

#### Not got an account?

[Create an Account](https://gsap.com/community/register)

- [CodePen](https://codepen.io/GreenSock)
- [GitHub](https://github.com/greensock/GreenSock-JS/)
- [Facebook](https://www.facebook.com/greensock/)
- [LinkedIn](https://www.linkedin.com/company/greensock)
- [x](https://www.twitter.com/greensock/)

![](https://gsap.com/img/header-shapes.png)

[Skip to main content](https://gsap.com/docs/v3/Plugins/CSSRulePlugin/#__docusaurus_skipToContent_fallback)

[Docs](https://gsap.com/docs/v3/) [Learning](https://gsap.com/resources)

[v3.12.7](https://gsap.com/docs/v3/)

- [v3.12.7](https://gsap.com/docs/v3/Plugins/CSSRulePlugin/)
- [v2 - archived](https://www.gsap.com/archived-docs/)

Search`` `K`

- [docsHome](https://gsap.com/docs/v3/)
- Quick Start
- [Installation](https://gsap.com/docs/v3/Installation)

- [YouTube Channel](https://www.youtube.com/@GreenSockLearning)
- [Trial the Club Plugins](https://gsap.com/resources/trial)
- [Demos / Starter Templates](https://gsap.com/demos)
- [Cheatsheet](https://gsap.com/cheatsheet)
- Fundamentals
- [GSAP](https://gsap.com/docs/v3/GSAP/)

- [Tween](https://gsap.com/docs/v3/GSAP/Tween)

- [Timeline](https://gsap.com/docs/v3/GSAP/Timeline)

- [CSS](https://gsap.com/docs/v3/GSAP/CorePlugins/CSS)
- [Easing](https://gsap.com/docs/v3/Eases)

- Plugins
- [What's a plugin?](https://gsap.com/docs/v3/Plugins)
- [ScrollTrigger](https://gsap.com/docs/v3/Plugins/ScrollTrigger/)

- [ScrollSmoother](https://gsap.com/docs/v3/Plugins/ScrollSmoother/)

- [Flip](https://gsap.com/docs/v3/Plugins/Flip/)

- [more plugins](https://gsap.com/docs/v3/Plugins/CSSRulePlugin/#)

  - [CSSRule](https://gsap.com/docs/v3/Plugins/CSSRulePlugin/)

    - [methods](https://gsap.com/docs/v3/Plugins/CSSRulePlugin/#)

      - [CSSRulePlugin.getRule()](https://gsap.com/docs/v3/Plugins/CSSRulePlugin/methods/static-getRule())
  - [Draggable](https://gsap.com/docs/v3/Plugins/Draggable/)

  - [DrawSVG](https://gsap.com/docs/v3/Plugins/DrawSVGPlugin)

  - [Easel](https://gsap.com/docs/v3/Plugins/EaselPlugin)
  - [GSDevTools](https://gsap.com/docs/v3/Plugins/GSDevTools)

  - [Inertia](https://gsap.com/docs/v3/Plugins/InertiaPlugin/)

  - [MorphSVG](https://gsap.com/docs/v3/Plugins/MorphSVGPlugin)

  - [MotionPath](https://gsap.com/docs/v3/Plugins/MotionPathPlugin)

  - [MotionPathHelper](https://gsap.com/docs/v3/Plugins/MotionPathHelper/)

  - [Observer](https://gsap.com/docs/v3/Plugins/Observer/)

  - [Physics2D](https://gsap.com/docs/v3/Plugins/Physics2DPlugin)
  - [PhysicsProps](https://gsap.com/docs/v3/Plugins/PhysicsPropsPlugin)
  - [Pixi](https://gsap.com/docs/v3/Plugins/PixiPlugin/)

  - [ScrambleText](https://gsap.com/docs/v3/Plugins/ScrambleTextPlugin)
  - [ScrollTo](https://gsap.com/docs/v3/Plugins/ScrollToPlugin)

  - [SplitText](https://gsap.com/docs/v3/Plugins/SplitText/)

  - [Text](https://gsap.com/docs/v3/Plugins/TextPlugin)
- Useful features & tools
- [Utility Methods](https://gsap.com/docs/v3/GSAP/UtilityMethods)

- [Staggers](https://gsap.com/resources/getting-started/Staggers)
- [Helper functions](https://gsap.com/docs/v3/HelperFunctions/)

- [React - useGSAP()](https://gsap.com/resources/React)

- more plugins
- CSSRule

On this page

# CSSRule

caution

CSSRulePlugin has been **deprecated** in favor of using CSS variables which have [excellent browser support](https://caniuse.com/#feat=css-variables) these days. GSAP has native support for animating CSS variables, like:

```codeBlockLines_p187
gsap.to("html", { "--my-variable": 100, duration: 2 });

```

CSS variables demo:

#### loading...

CodePen Embed - CSS Variables Demo

- [HTML](https://codepen.io/GreenSock/embed/MoeLdj?default-tab=result&theme-id=41164#html-box)
- [CSS](https://codepen.io/GreenSock/embed/MoeLdj?default-tab=result&theme-id=41164#css-box)
- [JS](https://codepen.io/GreenSock/embed/MoeLdj?default-tab=result&theme-id=41164#js-box)

- [Result](https://codepen.io/GreenSock/embed/MoeLdj?default-tab=result&theme-id=41164#result-box)
- [Skip Results Iframe](https://codepen.io/GreenSock/embed/MoeLdj?default-tab=result&theme-id=41164#resources-link)

[EDIT ON](https://codepen.io/GreenSock/pen/MoeLdj "Edit on CodePen")

``` cm-s-default
<link href='//fonts.googleapis.com/css?family=Signika+Negative:300,400' rel='stylesheet' type='text/css'>

<div class="wrapper">
<h2>Apply same --myColor variable to multiple css rules.</h2>
<p>Tweening the <strong> --myColor</strong> variable will update multiple elements.</p>

<div class="cool">this is cool </div>
</div>

```

``` cm-s-default
body {
  margin:20px;
}

html {
  --myColor: #00bae2;
}

h2 {
  font-size:20px;
}

.wrapper {
  border: 3px solid var(--myColor);
  border-radius: 10px;
  margin-right:10px;
  padding: 1rem;
}

 h2, strong {
  color:var(--myColor);
}

.cool {
  display:inline-block;
  padding: 0.5rem 1rem;
  color:white;
  border-radius:99px;
  background-color:var(--myColor);
}

```

``` cm-s-default
gsap.to("html", {"--myColor":"#0ae448", yoyo:true, repeat:20, duration: 1});
```

CSS Variables Demo

## Apply same --myColor variable to multiple css rules.

Tweening the **--myColor** variable will update multiple elements.

this is cool

[![](https://assets.codepen.io/16327/internal/avatars/users/default.png?fit=crop&format=auto&height=256&version=1697554632&width=256)](https://codepen.io/GreenSock)

This Pen is owned by [GSAP](https://codepen.io/GreenSock) on [CodePen](https://codepen.io/).



[See more by @GreenSock on CodePen](https://codepen.io/GreenSock)

### External CSS

1. [https://codepen.io/GreenSock/pen/JGaKdQ.css](https://codepen.io/GreenSock/pen/JGaKdQ.css)

### External JavaScript

1. [https://unpkg.co/gsap@3/dist/gsap.min.js](https://unpkg.co/gsap@3/dist/gsap.min.js)

Resources


- 1×
- 0.5×
- 0.25×

Rerun

Be aware that animating a CSS variable, no matter the property targeted, will trigger a repaint, so use sparingly and be cautious of performance.

Allows GSAP to animate a raw style sheet rule which affects all objects of a particular selector rather than affecting an individual DOM element's inline styles.

For example, if you have a CSS class named `myClass` that sets `background-color` to `#FF0000`, you could tween that to a different color and _all_ of the objects on the page that have a class of `myClass` would have their background color change. Typically it is best to use the regular CSSPlugin to animate CSS-related properties of individual elements so that you can get very precise control over each object, but sometimes it can be useful to animate the global rules themselves instead. For example, pseudo elements like `::after` and `::before` are impossible to reference directly in JavaScript, but you can animate them using CSSRulePlugin.

The plugin itself has a static `getRule()` method that you can use to grab a reference to the style sheet itself based on the CSS selector.

For example, let's say you have CSS like this:

```codeBlockLines_p187
.myClass {
    color: #FF0000;
}
.myClass::before {
    content: "This content is before.";
    color: #00FF00;
}

```

If you want to tween the color of the `.myClass:before` to blue. Make sure you load the CSSRulePlugin file and then do this:

```codeBlockLines_p187
var rule = CSSRulePlugin.getRule(".myClass::before"); //get the rule
gsap.to(rule, { duration: 3, cssRule: { color: "blue" } });

```

And if you want to get _all_ of the `::before` pseudo elements, the `getRule()` will return an array of them, so I could do this:

```codeBlockLines_p187
gsap.to( CSSRulePlugin.getRule("::before"), {duration: 3, cssRule: {color: "blue"}});>

```

Keep in mind that it is typically best to tween a property that has already been defined in the specific rule that you're selecting because it cannot perform a calculated style (the combination of styles from other selectors that might pertain to similar elements). For example, if we didn't define any color initially for the `.myClass::before` and tried to tween its color to blue, it would start from `transparent` and go to `blue`. One way around this is to simply set your starting values explicitly in the tween by doing a `fromTo()`. That way there's no having to guess what the starting value should be when it isn't defined previously.

**Don't forget to wrap the values in a `cssRule: {}` object.**

Styles defined inside media queries may not be accessible or tweenable.

Alternatively, convert your pseudo-elements to real HTML elements and animate them directly like you would any other DOM elements.

## **Methods** [​](https://gsap.com/docs/v3/Plugins/CSSRulePlugin/\#methods "Direct link to methods")

|     |     |
| --- | --- |
| #### [CSSRulePlugin.getRule](https://gsap.com/docs/v3/Plugins/CSSRulePlugin/methods/static-getRule())( selector:String ) : Object | \[static\] Provides a simple way to find the style sheet object associated with a particular selector like `".myClass"` or `"#myID"`. |

## FAQs [​](https://gsap.com/docs/v3/Plugins/CSSRulePlugin/\#faqs "Direct link to FAQs")

#### How do I include CSSRulePlugin in my project?

See the [installation page](https://gsap.com/docs/v3/Installation) for all the options (CDN, NPM, download, etc.) where there's even an interactive helper that provides the necessary code. Easy peasy. Don't forget to [register CSSRulePlugin](https://gsap.com/docs/v3/GSAP/gsap.registerPlugin()) like this in your project:

```codeBlockLines_p187
gsap.registerPlugin(CSSRulePlugin)

```

#### Is this included in the GSAP core?

No, you must load/import it separately

#### Is this only for Club GSAP members?

No, it's available to everyone for free! But [Club GSAP](https://gsap.com/pricing/) is pretty awesome...just sayin'.

#### It works fine during development, but suddenly stops working in the production build! What do I do?

Your build tool is probably dropping the plugin when [tree shaking](https://developer.mozilla.org/en-US/docs/Glossary/Tree_shaking) and you forgot to [register CSSRulePlugin](https://gsap.com/docs/v3/GSAP/gsap.registerPlugin()) (which protects it from tree shaking). Just register the plugin like this:

```codeBlockLines_p187
gsap.registerPlugin(CSSRulePlugin)

```

#### Is it bad to register a plugin multiple times?

No, it's perfectly fine. It doesn't help anything, nor does it hurt.

[Previous\\
\\
Flip.to()](https://gsap.com/docs/v3/Plugins/Flip/static.to()) [Next\\
\\
CSSRulePlugin.getRule()](https://gsap.com/docs/v3/Plugins/CSSRulePlugin/methods/static-getRule())

## Contents

- [**Methods**](https://gsap.com/docs/v3/Plugins/CSSRulePlugin/#methods)
- [FAQs](https://gsap.com/docs/v3/Plugins/CSSRulePlugin/#faqs)

## [GSAP](https://gsap.com/)

- [Core](https://gsap.com/core/)
- [Docs](https://gsap.com/docs/v3)
- [All Plugins](https://gsap.com/docs/v3/Plugins/)

## [Scroll](https://gsap.com/scroll/)

- [ScrollTrigger](https://gsap.com/docs/v3/Plugins/ScrollTrigger)
- [ScrollSmoother](https://gsap.com/docs/v3/Plugins/ScrollSmoother)
- [ScrollTo](https://gsap.com/docs/v3/Plugins/ScrollToPlugin)
- [Observer](https://gsap.com/docs/v3/Plugins/Observer)

## [SVG](https://gsap.com/svg/)

- [MorphSVG](https://gsap.com/docs/v3/Plugins/MorphSVGPlugin)
- [DrawSVG](https://gsap.com/docs/v3/Plugins/DrawSVGPlugin)
- [MotionPath](https://gsap.com/docs/v3/Plugins/MotionPathPlugin)
- [MotionPathHelper](https://gsap.com/docs/v3/Plugins/MotionPathHelper)

## [UI](https://gsap.com/ui/)

- [Flip](https://gsap.com/docs/v3/Plugins/Flip)
- [SplitText](https://gsap.com/docs/v3/Plugins/SplitText)
- [Draggable](https://gsap.com/docs/v3/Plugins/Draggable)
- [Inertia](https://gsap.com/docs/v3/Plugins/InertiaPlugin)
- [Observer](https://gsap.com/docs/v3/Plugins/Observer)

## [Text](https://gsap.com/text/)

- [SplitText](https://gsap.com/docs/v3/Plugins/SplitText)
- [ScrambleText](https://gsap.com/docs/v3/Plugins/ScrambleTextPlugin)
- [Text](https://gsap.com/docs/v3/Plugins/TextPlugin)

Subscribe to the GSAP® newsletter to stay up-to-date with the latest releases

Email \*

## Company

- [About](https://gsap.com/about/)
- [Blog](https://gsap.com/blog/)
- [Contact Us](https://gsap.com/community/contact/)

## GSAP

- [Pricing](https://gsap.com/pricing/)
- [Showcase](https://gsap.com/showcase/)
- [Learn GSAP](https://gsap.com/resources/)
- [Community](https://gsap.com/community/)

## Connect

- [Codepen](https://www.codepen.io/GreenSock)
- [GitHub](https://github.com/greensock/GreenSock-JS)
- [Facebook](https://www.facebook.com/greensock)
- [LinkedIn](https://www.linkedin.com/company/greensock)
- [X](https://www.twitter.com/greensock)

©2025 GSAP - A Webflow Product. All rights reserved.

- [Privacy Policy.](https://gsap.com/community/privacy-policy/)
- [Terms of Use.](https://gsap.com/community/terms-of-use/)