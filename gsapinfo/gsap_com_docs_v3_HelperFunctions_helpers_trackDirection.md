[GSAPGSAP](https://gsap.com/) Menu

- Tools




- [Core](https://gsap.com/core/)
- [Scroll](https://gsap.com/scroll/)
- [SVG](https://gsap.com/svg/)
- [UI](https://gsap.com/ui/)
- [Text](https://gsap.com/text/)

- [Installation](https://gsap.com/docs/v3/Installation)
- [Starter Templates](https://gsap.com/demos)
- [GSAP & React](https://gsap.com/resources/React)
- [Video Lessons](https://www.youtube.com/@GreenSockLearning)

Professional-grade JavaScript animation for the modern web

![](https://gsap.com/img/header-shapes.png)

- [Pricing](https://gsap.com/pricing/)
- [Showcase](https://gsap.com/showcase/)
- [Community](https://gsap.com/community/)
- [Learn GSAP](https://gsap.com/resources/)
- [Docs](https://gsap.com/docs/v3)

- Notifications






#### Notifications



[Notification Settings](https://gsap.com/community/notifications/options) [View All](https://gsap.com/community/notifications/)

- Messages






#### Messages



[Compose new](https://gsap.com/community/messenger/compose) [Go to Inbox](https://gsap.com/community/messenger)

- Login/Create Account




#### Sign In







Login [Forgot your password?](https://gsap.com/community/lostpassword/)





#### Why create an account?



- It's free

- Participate in the forums

- Updates on the products you use

- Exclusive offers and more


[Create an Account](https://gsap.com/community/register)

- [My Account](https://gsap.com/community/account-dashboard)








![Guest](https://gsap.com/community/uploads/set_resources_8/84c1e40ea0e759e3f1505eb1788ddf3c_default_photo.png)





Guest







Guests







- [Dashboard](https://gsap.com/community/account-dashboard)
- [Orders & Billing](https://gsap.com/community/clients/orders)
- [Account Settings](https://gsap.com/community/settings)
- [Logout](https://gsap.com/community/logout/?csrfKey=cd2f552c683546841a0c0accfe8153e7)

- [Get GSAP](https://gsap.com/docs/v3/Installation)

- Tools
  - [Core](https://gsap.com/core/)
  - [Scroll](https://gsap.com/scroll/)
  - [SVG](https://gsap.com/svg/)
  - [UI](https://gsap.com/ui/)
  - [Text](https://gsap.com/text/)
- [Pricing](https://gsap.com/pricing/)
- [Showcase](https://gsap.com/showcase/)
- [Community](https://gsap.com/community/)
- [Learn GSAP](https://gsap.com/resources/)
- [Docs](https://gsap.com/docs/v3/)

- Login/Create Account
- ![Guest](https://gsap.com/community/uploads/set_resources_8/84c1e40ea0e759e3f1505eb1788ddf3c_default_photo.png)





Guest







Guests


![Guest](https://gsap.com/community/uploads/set_resources_8/84c1e40ea0e759e3f1505eb1788ddf3c_default_photo.png)

Guest

Guests

- [Dashboard](https://gsap.com/community/account-dashboard)
- [Orders & Billing](https://gsap.com/community/clients/orders)
- [Account Settings](https://gsap.com/community/settings)
- [Logout](https://gsap.com/community/logout/?csrfKey=cd2f552c683546841a0c0accfe8153e7)
- [Messages](https://gsap.com/community/messenger/)
- [Notifications](https://gsap.com/community/notifications/)

#### Sign In

Login [Forgot your password?](https://gsap.com/community/lostpassword/)

#### Not got an account?

[Create an Account](https://gsap.com/community/register)

- [CodePen](https://codepen.io/GreenSock)
- [GitHub](https://github.com/greensock/GreenSock-JS/)
- [Facebook](https://www.facebook.com/greensock/)
- [LinkedIn](https://www.linkedin.com/company/greensock)
- [x](https://www.twitter.com/greensock/)

![](https://gsap.com/img/header-shapes.png)

[Skip to main content](https://gsap.com/docs/v3/HelperFunctions/helpers/trackDirection/#__docusaurus_skipToContent_fallback)

[Docs](https://gsap.com/docs/v3/) [Learning](https://gsap.com/resources)

[v3.12.7](https://gsap.com/docs/v3/)

- [v3.12.7](https://gsap.com/docs/v3/HelperFunctions/helpers/trackDirection)
- [v2 - archived](https://www.gsap.com/archived-docs/)

Search`` `K`

- [docsHome](https://gsap.com/docs/v3/)
- Quick Start
- [Installation](https://gsap.com/docs/v3/Installation)

- [YouTube Channel](https://www.youtube.com/@GreenSockLearning)
- [Trial the Club Plugins](https://gsap.com/resources/trial)
- [Demos / Starter Templates](https://gsap.com/demos)
- [Cheatsheet](https://gsap.com/cheatsheet)
- Fundamentals
- [GSAP](https://gsap.com/docs/v3/GSAP/)

- [Tween](https://gsap.com/docs/v3/GSAP/Tween)

- [Timeline](https://gsap.com/docs/v3/GSAP/Timeline)

- [CSS](https://gsap.com/docs/v3/GSAP/CorePlugins/CSS)
- [Easing](https://gsap.com/docs/v3/Eases)

- Plugins
- [What's a plugin?](https://gsap.com/docs/v3/Plugins)
- [ScrollTrigger](https://gsap.com/docs/v3/Plugins/ScrollTrigger/)

- [ScrollSmoother](https://gsap.com/docs/v3/Plugins/ScrollSmoother/)

- [Flip](https://gsap.com/docs/v3/Plugins/Flip/)

- [more plugins](https://gsap.com/docs/v3/HelperFunctions/helpers/trackDirection/#)

- Useful features & tools
- [Utility Methods](https://gsap.com/docs/v3/GSAP/UtilityMethods)

- [Staggers](https://gsap.com/resources/getting-started/Staggers)
- [Helper functions](https://gsap.com/docs/v3/HelperFunctions/)

  - [seamlessLoop](https://gsap.com/docs/v3/HelperFunctions/helpers/seamlessLoop)
  - [stopOverscroll](https://gsap.com/docs/v3/HelperFunctions/helpers/stopOverscroll)
  - [LottieScrollTrigger](https://gsap.com/docs/v3/HelperFunctions/helpers/LottieScrollTrigger)
  - [addWeightedEases](https://gsap.com/docs/v3/HelperFunctions/helpers/addWeightedEases)
  - [alignOrigins](https://gsap.com/docs/v3/HelperFunctions/helpers/alignOrigins)
  - [anchorsToProgress](https://gsap.com/docs/v3/HelperFunctions/helpers/anchorsToProgress)
  - [bgSize](https://gsap.com/docs/v3/HelperFunctions/helpers/bgSize)
  - [blendEases](https://gsap.com/docs/v3/HelperFunctions/helpers/blendEases)
  - [callAfterResize](https://gsap.com/docs/v3/HelperFunctions/helpers/callAfterResize)
  - [compensatedSkew](https://gsap.com/docs/v3/HelperFunctions/helpers/compensatedSkew)
  - [getDirectionalSnapFunc](https://gsap.com/docs/v3/HelperFunctions/helpers/getDirectionalSnapFunc)
  - [easeToLinear](https://gsap.com/docs/v3/HelperFunctions/helpers/easeToLinear)
  - [Flip](https://gsap.com/docs/v3/HelperFunctions/helpers/FLIP)
  - [formatNumber](https://gsap.com/docs/v3/HelperFunctions/helpers/formatNumber)
  - [getNestedLabelTime](https://gsap.com/docs/v3/HelperFunctions/helpers/getNestedLabelTime)
  - [getScrollLookup](https://gsap.com/docs/v3/HelperFunctions/helpers/getScrollLookup)
  - [getScrollPosition](https://gsap.com/docs/v3/HelperFunctions/helpers/getScrollPosition)
  - [imageSequenceScrub](https://gsap.com/docs/v3/HelperFunctions/helpers/imageSequenceScrub)
  - [killChildTweensOf](https://gsap.com/docs/v3/HelperFunctions/helpers/killChildTweensOf)
  - [nestedLinesSplit](https://gsap.com/docs/v3/HelperFunctions/helpers/nestedLinesSplit)
  - [pluckRandomFrom](https://gsap.com/docs/v3/HelperFunctions/helpers/pluckRandomFrom)
  - [progressiveBuild](https://gsap.com/docs/v3/HelperFunctions/helpers/progressiveBuild)
  - [smoothOriginChange](https://gsap.com/docs/v3/HelperFunctions/helpers/smoothOriginChange)
  - [tickGSAPWhileHidden](https://gsap.com/docs/v3/HelperFunctions/helpers/tickGSAPWhileHidden)
  - [trackDirection](https://gsap.com/docs/v3/HelperFunctions/helpers/trackDirection)
  - [weightedRandom](https://gsap.com/docs/v3/HelperFunctions/helpers/weightedRandom)
- [React - useGSAP()](https://gsap.com/resources/React)

- [Helper functions](https://gsap.com/docs/v3/HelperFunctions/)
- trackDirection

On this page

# trackDirection

## Need an onReverse()? Track the playhead direction of any animation [​](https://gsap.com/docs/v3/HelperFunctions/helpers/trackDirection/\#need-an-onreverse-track-the-playhead-direction-of-any-animation "Direct link to Need an onReverse()? Track the playhead direction of any animation")

If you find yourself needing an onReverse() callback (which doesn't exist) or a way to get notified when the playhead changes direction, this is a very useful helper function. What makes it special is that it works no matter how deeply-nested the animation is. Remember, the parent or parent's parent could get reversed or a negative timeScale which directly affects how the playhead sweeps across the descendants.

```codeBlockLines_p187
function trackDirection(value) {
  typeof value !== "object" && (value = { onUpdate: value });
  let prevTime = 0,
    prevReversed = false,
    anim = value.eventCallback ? value : value.animation,
    onUpdate = value.onUpdate,
    onToggle = value.onToggle;
  return anim
    ? anim.eventCallback(
        "onUpdate",
        trackDirection({ onUpdate: onUpdate, onToggle: onToggle })
      )
    : function () {
        let time = this.totalTime(),
          reversed = time < prevTime;
        this.direction = reversed ? -1 : 1;
        if (reversed !== prevReversed) {
          onToggle && onToggle.call(this, this.direction);
          prevReversed = reversed;
        }
        prevTime = time;
        onUpdate && onUpdate.call(this, this.direction);
      };
}

```

## Usage [​](https://gsap.com/docs/v3/HelperFunctions/helpers/trackDirection/\#usage "Direct link to Usage")

Choose from any of the following:

1. Directly as a callback (it returns a function):




```codeBlockLines_p187
gsap.to(... {onUpdate: trackDirection(), ...})

```

2. Assigned to the animation:




```codeBlockLines_p187
let tl = gsap.timeline();
trackDirection(tl);

```


You can add configuration options (onToggle and/or onUpdate):

```codeBlockLines_p187
gsap.to(
  ...{
    x: 100,
    onUpdate: trackDirection({
      onToggle: (direction) => console.log("toggled direction to", direction),
      onUpdate: (direction) => console.log("updated animation"),
    }),
  }
);

```

Or when assigned to the animation:

```codeBlockLines_p187
trackDirection({
  animation: tl,
  onToggle: (direction) => console.log("toggled direction to", direction),
  onUpdate: (direction) => console.log("updated animation"),
});

```

caution

since "direction" is set whenever the playhead changes position, it won't update immediately. For example, if you call tween.reverse() and then immediately check (before the next tick), tween.direction will still report as 1 because the playhead hasn't moved yet.

## Demo [​](https://gsap.com/docs/v3/HelperFunctions/helpers/trackDirection/\#demo "Direct link to Demo")

#### loading...

CodePen Embed - trackDirection() for GSAP

- [HTML](https://codepen.io/GreenSock/embed/rNyrGjB?default-tab=result&theme-id=41164#html-box)
- [CSS](https://codepen.io/GreenSock/embed/rNyrGjB?default-tab=result&theme-id=41164#css-box)
- [JS](https://codepen.io/GreenSock/embed/rNyrGjB?default-tab=result&theme-id=41164#js-box)

- [Result](https://codepen.io/GreenSock/embed/rNyrGjB?default-tab=result&theme-id=41164#result-box)
- [Skip Results Iframe](https://codepen.io/GreenSock/embed/rNyrGjB?default-tab=result&theme-id=41164#resources-link)

[EDIT ON](https://codepen.io/GreenSock/pen/rNyrGjB "Edit on CodePen")

``` cm-s-default
<h1>trackDirection()</h1>
<p>Track the direction of any animation (tween or timeline) with this helper function. It's better than an onReverse() which purposely doesn't exist in the API; it works even when the animation is nested inside other animations which may themselves be reversed as well. </p><br>
<div class="box">Click to change direction</div>
<h2 class="direction"></h2>
```

``` cm-s-default
body {
  text-align: center;
  padding: 10px 20px;
}

.box {
  width: 260px;
  height: 200px;
  background: linear-gradient(166.9deg, #0ae448 53.19%, #0085d0 107.69%), url(https://assets.codepen.io/16327/noise.png);
  background-blend-mode: color-dodge;
  text-align: center;
  font-size: 18px;
  display: inline-block;
  line-height: 200px;
  user-select: none;
  margin: 50px 0;
  border-radius: 20px;
  color: var(--color-just-black)
}
p {
  max-width: 800px;
  display: inline-block;
  text-align: left;
}
```

``` cm-s-default
let tween = gsap.to(".box", {
  rotation: 360,
  onUpdate: trackDirection(reportDirection),
  ease: "power2.inOut",
  duration: 5
});

function reportDirection() {
  document.querySelector(".direction").innerText = "direction: " + tween.direction;
}

// reverse on click
document.querySelector(".box").addEventListener("click", () => tween.reversed(!tween.reversed()));

/*
Helper function that sets a "direction" property on any animation (tween or timeline)
to -1 if the playhead is going backwards, or 1 if forward. It updates every time the playhead moves.
It must get applied to the onUpdate callback in one of the following ways:

1) Directly as a callback (it returns a function):
gsap.to(... {onUpdate: trackDirection(), ...})

2) Assigned to the animation:
let tl = gsap.timeline();
trackDirection(tl);

You can add configuration options (onToggle and/or onUpdate):
gsap.to(... {
  x: 100,
  onUpdate: trackDirection({
    onToggle: direction => console.log("toggled direction to", direction),
    onUpdate: direction => console.log("updated animation")
  })
});

Or when assigned to the animation:
trackDirection({
  animation: tl,
  onToggle: direction => console.log("toggled direction to", direction),
  onUpdate: direction => console.log("updated animation")
});

Caveat: since "direction" is set whenever the playhead changes position, it won't
update immediately. For example, if you call tween.reverse() and then immediately check
(before the next tick), tween.direction will still report as 1 because the playhead
hasn't moved yet.
*/
function trackDirection(value) {
  typeof(value) !== "object" && (value = {onUpdate: value});
  let prevTime = 0,
    prevReversed = false,
    anim = value.eventCallback ? value : value.animation,
    onUpdate = value.onUpdate,
    onToggle = value.onToggle;
  return anim ? anim.eventCallback("onUpdate", trackDirection({onUpdate: onUpdate, onToggle: onToggle})) : function() {
    let time = this.totalTime(),
      reversed = time < prevTime;
    this.direction = reversed ? -1 : 1;
    if (reversed !== prevReversed) {
      onToggle && onToggle.call(this, this.direction);
      prevReversed = reversed;
    }
    prevTime = time;
    onUpdate && onUpdate.call(this, this.direction);
  };
}
```

trackDirection() for GSAP

# trackDirection()

Track the direction of any animation (tween or timeline) with this helper function. It's better than an onReverse() which purposely doesn't exist in the API; it works even when the animation is nested inside other animations which may themselves be reversed as well.

Click to change direction

## direction: 1

[![](https://assets.codepen.io/16327/internal/avatars/users/default.png?fit=crop&format=auto&height=256&version=1697554632&width=256)](https://codepen.io/GreenSock)

This Pen is owned by [GSAP](https://codepen.io/GreenSock) on [CodePen](https://codepen.io/).



[See more by @GreenSock on CodePen](https://codepen.io/GreenSock)

### External CSS

1. [https://codepen.io/GreenSock/pen/qEWKyrL.css](https://codepen.io/GreenSock/pen/qEWKyrL.css)

### External JavaScript

1. [https://unpkg.co/gsap@3/dist/gsap.min.js](https://unpkg.co/gsap@3/dist/gsap.min.js)

Resources


- 1×
- 0.5×
- 0.25×

Rerun

[Previous\\
\\
tickGSAPWhileHidden](https://gsap.com/docs/v3/HelperFunctions/helpers/tickGSAPWhileHidden) [Next\\
\\
weightedRandom](https://gsap.com/docs/v3/HelperFunctions/helpers/weightedRandom)

## Contents

- [Need an onReverse()? Track the playhead direction of any animation](https://gsap.com/docs/v3/HelperFunctions/helpers/trackDirection/#need-an-onreverse-track-the-playhead-direction-of-any-animation)
- [Usage](https://gsap.com/docs/v3/HelperFunctions/helpers/trackDirection/#usage)
- [Demo](https://gsap.com/docs/v3/HelperFunctions/helpers/trackDirection/#demo)

## [GSAP](https://gsap.com/)

- [Core](https://gsap.com/core/)
- [Docs](https://gsap.com/docs/v3)
- [All Plugins](https://gsap.com/docs/v3/Plugins/)

## [Scroll](https://gsap.com/scroll/)

- [ScrollTrigger](https://gsap.com/docs/v3/Plugins/ScrollTrigger)
- [ScrollSmoother](https://gsap.com/docs/v3/Plugins/ScrollSmoother)
- [ScrollTo](https://gsap.com/docs/v3/Plugins/ScrollToPlugin)
- [Observer](https://gsap.com/docs/v3/Plugins/Observer)

## [SVG](https://gsap.com/svg/)

- [MorphSVG](https://gsap.com/docs/v3/Plugins/MorphSVGPlugin)
- [DrawSVG](https://gsap.com/docs/v3/Plugins/DrawSVGPlugin)
- [MotionPath](https://gsap.com/docs/v3/Plugins/MotionPathPlugin)
- [MotionPathHelper](https://gsap.com/docs/v3/Plugins/MotionPathHelper)

## [UI](https://gsap.com/ui/)

- [Flip](https://gsap.com/docs/v3/Plugins/Flip)
- [SplitText](https://gsap.com/docs/v3/Plugins/SplitText)
- [Draggable](https://gsap.com/docs/v3/Plugins/Draggable)
- [Inertia](https://gsap.com/docs/v3/Plugins/InertiaPlugin)
- [Observer](https://gsap.com/docs/v3/Plugins/Observer)

## [Text](https://gsap.com/text/)

- [SplitText](https://gsap.com/docs/v3/Plugins/SplitText)
- [ScrambleText](https://gsap.com/docs/v3/Plugins/ScrambleTextPlugin)
- [Text](https://gsap.com/docs/v3/Plugins/TextPlugin)

Subscribe to the GSAP® newsletter to stay up-to-date with the latest releases

Email \*

## Company

- [About](https://gsap.com/about/)
- [Blog](https://gsap.com/blog/)
- [Contact Us](https://gsap.com/community/contact/)

## GSAP

- [Pricing](https://gsap.com/pricing/)
- [Showcase](https://gsap.com/showcase/)
- [Learn GSAP](https://gsap.com/resources/)
- [Community](https://gsap.com/community/)

## Connect

- [Codepen](https://www.codepen.io/GreenSock)
- [GitHub](https://github.com/greensock/GreenSock-JS)
- [Facebook](https://www.facebook.com/greensock)
- [LinkedIn](https://www.linkedin.com/company/greensock)
- [X](https://www.twitter.com/greensock)

©2025 GSAP - A Webflow Product. All rights reserved.

- [Privacy Policy.](https://gsap.com/community/privacy-policy/)
- [Terms of Use.](https://gsap.com/community/terms-of-use/)