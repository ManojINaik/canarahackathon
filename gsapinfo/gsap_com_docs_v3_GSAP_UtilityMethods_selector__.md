[GSAPGSAP](https://gsap.com/) Menu

- Tools




- [Core](https://gsap.com/core/)
- [Scroll](https://gsap.com/scroll/)
- [SVG](https://gsap.com/svg/)
- [UI](https://gsap.com/ui/)
- [Text](https://gsap.com/text/)

- [Installation](https://gsap.com/docs/v3/Installation)
- [Starter Templates](https://gsap.com/demos)
- [GSAP & React](https://gsap.com/resources/React)
- [Video Lessons](https://www.youtube.com/@GreenSockLearning)

Professional-grade JavaScript animation for the modern web

![](https://gsap.com/img/header-shapes.png)

- [Pricing](https://gsap.com/pricing/)
- [Showcase](https://gsap.com/showcase/)
- [Community](https://gsap.com/community/)
- [Learn GSAP](https://gsap.com/resources/)
- [Docs](https://gsap.com/docs/v3)

- Notifications






#### Notifications



[Notification Settings](https://gsap.com/community/notifications/options) [View All](https://gsap.com/community/notifications/)

- Messages






#### Messages



[Compose new](https://gsap.com/community/messenger/compose) [Go to Inbox](https://gsap.com/community/messenger)

- Login/Create Account




#### Sign In







Login [Forgot your password?](https://gsap.com/community/lostpassword/)





#### Why create an account?



- It's free

- Participate in the forums

- Updates on the products you use

- Exclusive offers and more


[Create an Account](https://gsap.com/community/register)

- [My Account](https://gsap.com/community/account-dashboard)








![Guest](https://gsap.com/community/uploads/set_resources_8/84c1e40ea0e759e3f1505eb1788ddf3c_default_photo.png)





Guest







Guests







- [Dashboard](https://gsap.com/community/account-dashboard)
- [Orders & Billing](https://gsap.com/community/clients/orders)
- [Account Settings](https://gsap.com/community/settings)
- [Logout](https://gsap.com/community/logout/?csrfKey=232ef099dcd0fe9ff5faccb430cd5061)

- [Get GSAP](https://gsap.com/docs/v3/Installation)

- Tools
  - [Core](https://gsap.com/core/)
  - [Scroll](https://gsap.com/scroll/)
  - [SVG](https://gsap.com/svg/)
  - [UI](https://gsap.com/ui/)
  - [Text](https://gsap.com/text/)
- [Pricing](https://gsap.com/pricing/)
- [Showcase](https://gsap.com/showcase/)
- [Community](https://gsap.com/community/)
- [Learn GSAP](https://gsap.com/resources/)
- [Docs](https://gsap.com/docs/v3/)

- Login/Create Account
- ![Guest](https://gsap.com/community/uploads/set_resources_8/84c1e40ea0e759e3f1505eb1788ddf3c_default_photo.png)





Guest







Guests


![Guest](https://gsap.com/community/uploads/set_resources_8/84c1e40ea0e759e3f1505eb1788ddf3c_default_photo.png)

Guest

Guests

- [Dashboard](https://gsap.com/community/account-dashboard)
- [Orders & Billing](https://gsap.com/community/clients/orders)
- [Account Settings](https://gsap.com/community/settings)
- [Logout](https://gsap.com/community/logout/?csrfKey=232ef099dcd0fe9ff5faccb430cd5061)
- [Messages](https://gsap.com/community/messenger/)
- [Notifications](https://gsap.com/community/notifications/)

#### Sign In

Login [Forgot your password?](https://gsap.com/community/lostpassword/)

#### Not got an account?

[Create an Account](https://gsap.com/community/register)

- [CodePen](https://codepen.io/GreenSock)
- [GitHub](https://github.com/greensock/GreenSock-JS/)
- [Facebook](https://www.facebook.com/greensock/)
- [LinkedIn](https://www.linkedin.com/company/greensock)
- [x](https://www.twitter.com/greensock/)

![](https://gsap.com/img/header-shapes.png)

[Skip to main content](https://gsap.com/docs/v3/GSAP/UtilityMethods/selector()/#__docusaurus_skipToContent_fallback)

[Docs](https://gsap.com/docs/v3/) [Learning](https://gsap.com/resources)

[v3.12.7](https://gsap.com/docs/v3/)

- [v3.12.7](https://gsap.com/docs/v3/GSAP/UtilityMethods/selector())
- [v2 - archived](https://www.gsap.com/archived-docs/)

Search`` `K`

- [docsHome](https://gsap.com/docs/v3/)
- Quick Start
- [Installation](https://gsap.com/docs/v3/Installation)

- [YouTube Channel](https://www.youtube.com/@GreenSockLearning)
- [Trial the Club Plugins](https://gsap.com/resources/trial)
- [Demos / Starter Templates](https://gsap.com/demos)
- [Cheatsheet](https://gsap.com/cheatsheet)
- Fundamentals
- [GSAP](https://gsap.com/docs/v3/GSAP/)

- [Tween](https://gsap.com/docs/v3/GSAP/Tween)

- [Timeline](https://gsap.com/docs/v3/GSAP/Timeline)

- [CSS](https://gsap.com/docs/v3/GSAP/CorePlugins/CSS)
- [Easing](https://gsap.com/docs/v3/Eases)

- Plugins
- [What's a plugin?](https://gsap.com/docs/v3/Plugins)
- [ScrollTrigger](https://gsap.com/docs/v3/Plugins/ScrollTrigger/)

- [ScrollSmoother](https://gsap.com/docs/v3/Plugins/ScrollSmoother/)

- [Flip](https://gsap.com/docs/v3/Plugins/Flip/)

- [more plugins](https://gsap.com/docs/v3/GSAP/UtilityMethods/selector()/#)

- Useful features & tools
- [Utility Methods](https://gsap.com/docs/v3/GSAP/UtilityMethods)

  - [checkPrefix](https://gsap.com/docs/v3/GSAP/UtilityMethods/checkPrefix())
  - [clamp](https://gsap.com/docs/v3/GSAP/UtilityMethods/clamp())
  - [distribute](https://gsap.com/docs/v3/GSAP/UtilityMethods/distribute())
  - [getUnit](https://gsap.com/docs/v3/GSAP/UtilityMethods/getUnit())
  - [interpolate](https://gsap.com/docs/v3/GSAP/UtilityMethods/interpolate())
  - [mapRange](https://gsap.com/docs/v3/GSAP/UtilityMethods/mapRange())
  - [normalize](https://gsap.com/docs/v3/GSAP/UtilityMethods/normalize())
  - [pipe](https://gsap.com/docs/v3/GSAP/UtilityMethods/pipe())
  - [random](https://gsap.com/docs/v3/GSAP/UtilityMethods/random())
  - [selector](https://gsap.com/docs/v3/GSAP/UtilityMethods/selector())
  - [shuffle](https://gsap.com/docs/v3/GSAP/UtilityMethods/shuffle())
  - [snap](https://gsap.com/docs/v3/GSAP/UtilityMethods/snap())
  - [splitColor](https://gsap.com/docs/v3/GSAP/UtilityMethods/splitColor())
  - [toArray](https://gsap.com/docs/v3/GSAP/UtilityMethods/toArray())
  - [unitize](https://gsap.com/docs/v3/GSAP/UtilityMethods/unitize())
  - [wrap](https://gsap.com/docs/v3/GSAP/UtilityMethods/wrap())
  - [wrapYoyo](https://gsap.com/docs/v3/GSAP/UtilityMethods/wrapYoyo())
- [Staggers](https://gsap.com/resources/getting-started/Staggers)
- [Helper functions](https://gsap.com/docs/v3/HelperFunctions/)

- [React - useGSAP()](https://gsap.com/resources/React)

- [Utility Methods](https://gsap.com/docs/v3/GSAP/UtilityMethods)
- selector

On this page

# selector

### Returns : Function [​](https://gsap.com/docs/v3/GSAP/UtilityMethods/selector()/\#returns--function "Direct link to Returns : Function")

* * *

Returns a **selector function** that's scoped to a particular Element, meaning it'll only find **descendants** of that Element.

This is great for components because you can create a scoped selector for that component's main container element and then use that to select descendants. It's similar to calling `.querySelectorAll()` on that element – rather than on the document – except with a few added benefits:

- It returns an **[Array](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array)** rather than a [NodeList](https://developer.mozilla.org/en-US/docs/Web/API/NodeList), so you get access to convenient array methods like `.filter()` and `.map()`.
- You can pass a [React ref](https://reactjs.org/docs/refs-and-the-dom.html) or [Angular ElementRef](https://angular.io/api/core/ElementRef) to [gsap.utils.selector()](https://gsap.com/docs/v3/GSAP/UtilityMethods/selector()). Then when you use the resulting function, it will automatically check for the `.current`/ `.nativeElement` in case it was re-rendered since creation.

```codeBlockLines_p187
// Vanilla
let q = gsap.utils.selector(myElement); // or use selector text like ".class"
let boxes = q(".box"); // finds only elements with the class "box" that are INSIDE myElement
// or plug directly into animations
gsap.to(q(".circle"), { x: 100 });

```

```codeBlockLines_p187
// React
let el = useRef();
let q = gsap.utils.selector(el);

useEffect(() => {
  // uses el.current.querySelectorAll() internally
  gsap.to(q(".box"), { x: 100 });
}, []);

```

```codeBlockLines_p187
// Angular
@Component({ ... })
class MyComponent implements OnInit {

  constructor(private el: ElementRef) {
    this.q = gsap.utils.selector(el);
  }

  ngOnInit() {
    // uses this.el.nativeElement.querySelectorAll() internally
    gsap.to(this.q(".box"), { x: 100 });
  }
}

```

```codeBlockLines_p187
// Vue
{
  mounted() {
    this.$nextTick(() => this.animate());
  },
  methods: {
    animate() {
      let q = gsap.utils.selector(this.$el);

      // uses this.$el.querySelectorAll() internally
      gsap.to(q(".box"), { x: 100 });
    }
  }
}

```

A common pattern in React is to declare a ref for every element you want to animate, but that can make your code very verbose and hard to read.

#### loading...

CodePen Embed - React forwarding refs

- [HTML](https://codepen.io/GreenSock/embed/JjWaJNy?default-tab=result&theme-id=41164#html-box)
- [CSS](https://codepen.io/GreenSock/embed/JjWaJNy?default-tab=result&theme-id=41164#css-box)
- [Babel](https://codepen.io/GreenSock/embed/JjWaJNy?default-tab=result&theme-id=41164#js-box)

- [Result](https://codepen.io/GreenSock/embed/JjWaJNy?default-tab=result&theme-id=41164#result-box)
- [Skip Results Iframe](https://codepen.io/GreenSock/embed/JjWaJNy?default-tab=result&theme-id=41164#resources-link)

[EDIT ON](https://codepen.io/GreenSock/pen/JjWaJNy "Edit on CodePen")

``` cm-s-default
<div id="app"></div>
```

``` cm-s-default
@import url('https://fonts.googleapis.com/css2?family=Signika+Negative:wght@400;600&display=swap');

body {
  font-family: "Signika Negative", sans-serif, Arial;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  overflow: hidden;
    background-color: #28292b;
  color: #fffce1;
}

h1 {
  text-align: center;
  font-weight: 400;
}

#app {
  display: flex;
  justify-content: center;
}

.box {
  width: 80px;
  height: 80px;
  background: dodgerblue;
  margin: 10px;
  float: left;
  opacity: 0;
  border-radius: 6px;
  transform: scale(0.3);
}
```

``` cm-s-default
let { useRef, useEffect, forwardRef } = React;

let data = [\
  { id: 0 },\
  { id: 1 },\
  { id: 2 },\
  { id: 3 },\
  { id: 4 }\
];

// To get a ref from a child component, we must forward
// the ref up to the parent
let Box = forwardRef((props, ref) => {
  return <div className="box" ref={ref}></div>
});

let App = () => {
  let boxRefs = useRef([]);

  useEffect(() => {
    gsap.to(boxRefs.current, {
      opacity: 1,
      scale: 1,
      duration: 1,
      stagger: 0.1,
      repeat: -1,
      repeatDelay: 1,
      yoyo: true
    });
  }, []);

  return (
    <div>
      <h1>React forwarding refs</h1>
      {data.map((item, i) => <Box key={item.id} ref={e => boxRefs.current[i] = e} />)}
    </div>
  );
}

ReactDOM.render(<App/>, document.querySelector('#app'));
```

[View Compiled](https://codepen.io/GreenSock/embed/JjWaJNy?default-tab=result&theme-id=41164#0)

React forwarding refs

# React forwarding refs

[![](https://assets.codepen.io/16327/internal/avatars/users/default.png?fit=crop&format=auto&height=256&version=1697554632&width=256)](https://codepen.io/GreenSock)

This Pen is owned by [GSAP](https://codepen.io/GreenSock) on [CodePen](https://codepen.io/).



[See more by @GreenSock on CodePen](https://codepen.io/GreenSock)

### External CSS

This Pen doesn't use any external CSS resources.


### External JavaScript

1. [https://assets.codepen.io/16327/gsap-latest-beta.min.js](https://assets.codepen.io/16327/gsap-latest-beta.min.js)
2. [https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.production.min.js](https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.production.min.js)
3. [https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.production.min.js](https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.production.min.js)

Resources


- 1×
- 0.5×
- 0.25×

Rerun

By using a scoped selector, we only need to use a **single** ref. Then we can simply select the descendants.

#### loading...

CodePen Embed - React scoped selector

- [HTML](https://codepen.io/GreenSock/embed/BaWOZpM?default-tab=result&theme-id=41164#html-box)
- [CSS](https://codepen.io/GreenSock/embed/BaWOZpM?default-tab=result&theme-id=41164#css-box)
- [Babel](https://codepen.io/GreenSock/embed/BaWOZpM?default-tab=result&theme-id=41164#js-box)

- [Result](https://codepen.io/GreenSock/embed/BaWOZpM?default-tab=result&theme-id=41164#result-box)
- [Skip Results Iframe](https://codepen.io/GreenSock/embed/BaWOZpM?default-tab=result&theme-id=41164#resources-link)

[EDIT ON](https://codepen.io/GreenSock/pen/BaWOZpM "Edit on CodePen")

``` cm-s-default
<div id="app"></div>
```

``` cm-s-default
@import url('https://fonts.googleapis.com/css2?family=Signika+Negative:wght@400;600&display=swap');

body {
  font-family: "Signika Negative", sans-serif, Arial;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  overflow: hidden;
  background-color: #28292b;
  color: #fffce1;
}

h1 {
  text-align: center;
  font-weight: 400;
}

#app {
  display: flex;
  justify-content: center;
}

.box {
  width: 80px;
  height: 80px;
  background: dodgerblue;
  margin: 10px;
  float: left;
  opacity: 0;
  border-radius: 6px;
  transform: scale(0.3);
}
```

``` cm-s-default
let { useRef, useEffect } = React;

let data = [\
  { id: 0 },\
  { id: 1 },\
  { id: 2 },\
  { id: 3 },\
  { id: 4 }\
];

let Box = () => {
  return <div className="box"></div>
};

let App = () => {
  let el = useRef();
  let q = gsap.utils.selector(el);

  useEffect(() => {

    // The component has been rendered, so we can now select
    // descendants of the component, including descendants
    // nested inside of other components
    gsap.to(q(".box"), {
      opacity: 1,
      scale: 1,
      duration: 1,
      stagger: 0.1,
      repeat: -1,
      repeatDelay: 1,
      yoyo: true
    });
  }, []);

  return (
    <div ref={el}>
      <h1>React scoped selector</h1>
      {data.map((item) => <Box key={item.id} />)}
    </div>
  );
}

ReactDOM.render(<App/>, document.querySelector('#app'));
```

[View Compiled](https://codepen.io/GreenSock/embed/BaWOZpM?default-tab=result&theme-id=41164#0)

React scoped selector

# React scoped selector

[![](https://assets.codepen.io/16327/internal/avatars/users/default.png?fit=crop&format=auto&height=256&version=1697554632&width=256)](https://codepen.io/GreenSock)

This Pen is owned by [GSAP](https://codepen.io/GreenSock) on [CodePen](https://codepen.io/).



[See more by @GreenSock on CodePen](https://codepen.io/GreenSock)

### External CSS

This Pen doesn't use any external CSS resources.


### External JavaScript

1. [https://assets.codepen.io/16327/gsap-latest-beta.min.js](https://assets.codepen.io/16327/gsap-latest-beta.min.js)
2. [https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.production.min.js](https://cdnjs.cloudflare.com/ajax/libs/react/17.0.2/umd/react.production.min.js)
3. [https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.production.min.js](https://cdnjs.cloudflare.com/ajax/libs/react-dom/17.0.2/umd/react-dom.production.min.js)

Resources


- 1×
- 0.5×
- 0.25×

Rerun

## Why not just use document.querySelectorAll(".class")? [​](https://gsap.com/docs/v3/GSAP/UtilityMethods/selector()/\#why-not-just-use-documentqueryselectorallclass "Direct link to Why not just use document.querySelectorAll(\".class\")?")

Let's say you build a component that ends up rendering on a page like:

```codeBlockLines_p187
<div class="my-component">
  <div class="box"></div>
  <div class="box"></div>
  <div class="box"></div>
</div>

```

And then you use that component 3 times on a page...

```codeBlockLines_p187
<my-component>
<my-component>
<my-component>

```

Which then renders like:

```codeBlockLines_p187
<div class="my-component">
  <div class="box"></div>
  <div class="box"></div>
  <div class="box"></div>
</div>
<div class="my-component">
  <div class="box"></div>
  <div class="box"></div>
  <div class="box"></div>
</div>
<div class="my-component">
  <div class="box"></div>
  <div class="box"></div>
  <div class="box"></div>
</div>

```

Now think about what would happen if you wrote an animation like this so that when you click on an individual component, it animates its boxes:

```codeBlockLines_p187
myComponent.addEventListener("click", () =>
  gsap.to(".my-component .box", { x: 100, stagger: 0.1 })
);

```

That would end up making **ALL** the boxes on the entire page animate instead of just the ones inside that component. See the issue? We need a way to scope it to just the one component. Of course you could do `myComponentRef.current.querySelectorAll(".box")` as your tween's target but it just seems cleaner to have a selector() that's already scoped and you can just reuse that over and over again to select things by class name (but only in that component).

## Parameters [​](https://gsap.com/docs/v3/GSAP/UtilityMethods/selector()/\#parameters "Direct link to Parameters")

1. **scope** : \[Element \| String \| Object\] (optional) - The Element (or selector text or React Ref or Angular ElementRef) to which the selector text scope should be limited, like calling `scopeElement.querySelectorAll([selector-text])` rather than `document.querySelectorAll()`. In other words, it will only return **descendant** Elements of the scope Element. Remember, `gsap.utils.selector()` returns a reusable **selector function**, not the results of the selection.

[Previous\\
\\
random](https://gsap.com/docs/v3/GSAP/UtilityMethods/random()) [Next\\
\\
shuffle](https://gsap.com/docs/v3/GSAP/UtilityMethods/shuffle())

## Contents

- [Returns : Function](https://gsap.com/docs/v3/GSAP/UtilityMethods/selector()/#returns--function)
- [Why not just use document.querySelectorAll(".class")?](https://gsap.com/docs/v3/GSAP/UtilityMethods/selector()/#why-not-just-use-documentqueryselectorallclass)
- [Parameters](https://gsap.com/docs/v3/GSAP/UtilityMethods/selector()/#parameters)

## [GSAP](https://gsap.com/)

- [Core](https://gsap.com/core/)
- [Docs](https://gsap.com/docs/v3)
- [All Plugins](https://gsap.com/docs/v3/Plugins/)

## [Scroll](https://gsap.com/scroll/)

- [ScrollTrigger](https://gsap.com/docs/v3/Plugins/ScrollTrigger)
- [ScrollSmoother](https://gsap.com/docs/v3/Plugins/ScrollSmoother)
- [ScrollTo](https://gsap.com/docs/v3/Plugins/ScrollToPlugin)
- [Observer](https://gsap.com/docs/v3/Plugins/Observer)

## [SVG](https://gsap.com/svg/)

- [MorphSVG](https://gsap.com/docs/v3/Plugins/MorphSVGPlugin)
- [DrawSVG](https://gsap.com/docs/v3/Plugins/DrawSVGPlugin)
- [MotionPath](https://gsap.com/docs/v3/Plugins/MotionPathPlugin)
- [MotionPathHelper](https://gsap.com/docs/v3/Plugins/MotionPathHelper)

## [UI](https://gsap.com/ui/)

- [Flip](https://gsap.com/docs/v3/Plugins/Flip)
- [SplitText](https://gsap.com/docs/v3/Plugins/SplitText)
- [Draggable](https://gsap.com/docs/v3/Plugins/Draggable)
- [Inertia](https://gsap.com/docs/v3/Plugins/InertiaPlugin)
- [Observer](https://gsap.com/docs/v3/Plugins/Observer)

## [Text](https://gsap.com/text/)

- [SplitText](https://gsap.com/docs/v3/Plugins/SplitText)
- [ScrambleText](https://gsap.com/docs/v3/Plugins/ScrambleTextPlugin)
- [Text](https://gsap.com/docs/v3/Plugins/TextPlugin)

Subscribe to the GSAP® newsletter to stay up-to-date with the latest releases

Email \*

## Company

- [About](https://gsap.com/about/)
- [Blog](https://gsap.com/blog/)
- [Contact Us](https://gsap.com/community/contact/)

## GSAP

- [Pricing](https://gsap.com/pricing/)
- [Showcase](https://gsap.com/showcase/)
- [Learn GSAP](https://gsap.com/resources/)
- [Community](https://gsap.com/community/)

## Connect

- [Codepen](https://www.codepen.io/GreenSock)
- [GitHub](https://github.com/greensock/GreenSock-JS)
- [Facebook](https://www.facebook.com/greensock)
- [LinkedIn](https://www.linkedin.com/company/greensock)
- [X](https://www.twitter.com/greensock)

©2025 GSAP - A Webflow Product. All rights reserved.

- [Privacy Policy.](https://gsap.com/community/privacy-policy/)
- [Terms of Use.](https://gsap.com/community/terms-of-use/)